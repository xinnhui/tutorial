{"version":3,"sources":["webpack:///./src/utils/messaging.ts","webpack:///./src/components/common/FlatTree/TreeNode.vue?11fa","webpack:///./src/constants/errCodes.ts","webpack:///./src/plugins/iview.ts","webpack:///./src/plugins/ga.ts","webpack:///./src/utils/zhuge.ts","webpack:///./src/init.ts","webpack:///./src/Offline.vue?5637","webpack:///./src/components/EventHub.ts","webpack:///./src/services/server.ts","webpack:///./src/services/ladder.ts","webpack:///./src/Parse.vue?de4f","webpack:///./src/services/genBaiduLogid.js","webpack:///./src/utils/baiduReq.ts","webpack:///./src/services/BaiduFileGetter.ts","webpack:///./src/components/FileSelector.vue?5317","webpack:///./src/components/common/FlatTree/FlatTree.vue?f777","webpack:///./src/components/common/FlatTree/TreeNode.vue?3baf","webpack:///./src/components/common/FlatTree/render.js","webpack:///src/components/common/FlatTree/TreeNode.vue","webpack:///./src/components/common/FlatTree/TreeNode.vue?a47b","webpack:///./src/components/common/FlatTree/TreeNode.vue","webpack:///src/components/common/FlatTree/FlatTree.vue","webpack:///./src/components/common/FlatTree/FlatTree.vue?0adf","webpack:///./src/components/common/FlatTree/FlatTree.vue","webpack:///./src/components/FileSelector.vue?0ef8","webpack:///./src/components/FileSelector.vue?7383","webpack:///./src/components/FileSelector.vue","webpack:///./src/utils/torrentParser.ts","webpack:///./src/services/tracker.ts","webpack:///./src/Parse.vue?faf5","webpack:///./src/Parse.vue?3e5b","webpack:///./src/Parse.vue","webpack:///./src/components/FileSelector.vue?f34a","webpack:///./src/constants/messages.ts","webpack:///./src/i18n.ts","webpack:///./src/utils/versionCompare.ts","webpack:///./src/constants/zhugeIOEvents.ts","webpack:///./src/components/common/FlatTree/FlatTree.vue?9d63","webpack:///./src/constants/constants.ts","webpack:///./src/constants/gaEvents.ts","webpack:///./src/Parse.vue?7805","webpack:///./src/Offline.vue?b29c","webpack:///./src/Offline.vue?1ad5","webpack:///./src/Offline.vue?f109","webpack:///./src/Offline.vue","webpack:///./src/assets/img/bticon.png"],"names":["__webpack_require__","d","__webpack_exports__","postMessage","addMessageListener","message","data","console","log","concat","window","context","enfiAndroid","receiveWebMessage","JSON","stringify","sendIpcMessage","callback","configs","arguments","length","undefined","once","androidMsgListener","handler","idx","indexOf","splice","push","addIpcListener","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TreeNode_vue_vue_type_style_index_0_id_6dd3dc53_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TreeNode_vue_vue_type_style_index_0_id_6dd3dc53_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","SERVER_SUCCESS","INIT_NOT_COMPLETE","GET_LINK_URL_INVALID","GET_LINK_NEED_EXTRACT_CODE","GET_LINK_EXTRACT_FAILED","GET_LINK_EXTRACT_CODE_WRONG","GET_LINK_EXTRACT_CAPTCHA_WRONG","GET_LINK_GETCAPTCHA_FAILED","GET_LINK_SHARE_URL_BANNED","GET_LINK_NO_LADDERS","LADDER_SERVER_BUSY","LADDER_SERVER_ERROR","LADDER_URL_ERROR","LADDER_WRONG_SHARECODE","LADDER_WRONG_VERCODE","LADDER_URL_INVALID","LADDER_PARSE_FAILED","LADDER_OFFLINE_ALREADY_FAILED","vue_runtime_esm","component","components_button","icon","input","components_checkbox","tree","spin","components_alert","tabs","tab_pane","prototype","$Message","ga","event","_len","args","Array","_key","Object","messaging","messages","$gaVisitor","zhuge","track","use","vue_i18n_esm","config","productionTip","devtools","test","navigator","userAgent","document","body","classList","add","receiveAndroidMessage","msgData","Error","handlers","forEach","err","error","initData","ladderApiVer","appver","platform","enfiToken","enfiUid","deviceId","EventHub","$emit","addEventListener","onload","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Offline_vue_vue_type_style_index_0_id_80402800_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Offline_vue_vue_type_style_index_0_id_80402800_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","vue__WEBPACK_IMPORTED_MODULE_0__","server_getOfflineChecker","reqUrl","versionCompare","constants","axios_default","url","method","headers","Authorization","quantity","then","res","code","checker","Promise","reject","catch","decryptKey","ladder_decrypt","encrypted","decryptKeyUtf8","crypto_js_default","a","enc","Utf8","parse","decrypted","AES","decrypt","iv","mode","CBC","padding","pad","Pkcs7","toString","ladder_getFileList","payloads","apiVer","uid","token","lib_default","shareurl","shareUrl","sharecode","shareCode","vcode","verCode","vcode_str","verCodeStr","withCredentials","errCodes","resData","ladder_createOfflineTask","check","magnetUri","name","Parsevue_type_template_id_467e0509_scoped_true_render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","size","fix","_e","_v","href","on","click","cancelParseMagnet","createOffline","errMsg","type","_s","src","BTName","displayTotalSize","inputLink","BTParseFinished","HTTPParseFinished","shareLink","rows","autosize","minRows","maxRows","placeholder","inputPlaceHolder","nativeOn","paste","$event","onLinkPasted","contextmenu","onContextMenu","model","value","$$v","expression","needExtractCode","showFileSelector","$t","keypress","_k","keyCode","key","parseLink","inputExtractCode","extractVerCodeEnterHndl","extractVerCode","extractVerCodeSrc","alt","getCaptcha","isSingleFile","ref","fileList","onCheck","hasFilename","filename","filetype","displaySumSize","checkedFilesCount","staticRenderFns","u","l","String","fromCharCode","e","charCodeAt","f","g","Math","random","replace","h","t","o","charAt","join","m","p","Date","getTime","w","genBaiduLogid","baiduId","baiduReq","defaultOptons","User-Agent","Host","Connection","Origin","X-Requested-With","setDefaults","setOption","target","hasOwnProperty","esm_typeof","req","params","_this","resolve","reqId","lib","WordArray","lodash_merge_default","receiveMessage","BaiduFileGetter_BaiduFileGetter","BaiduFileGetter","classCallCheck","isFromLadder","surl","extraUrlParams","BAIDUID","BDCLND","yunData","surlMatch","match","clearData","Referer","getUrlParams","msg","_this2","ladder","errno","genFileList","list","map","item","fs_id","server_filename","isdir","split","pop","isDir","isDelete","isdelete","status","category","deteteId","delete_fs_id","path","md5","children","isArray","enfi_children","baiduErrno","now","bdstoken","responseType","pwd","errObj","img","vcode_img","str","Accept","urlParamsReg","urlParamsMatch","services_BaiduFileGetter","FileSelectorvue_type_template_id_a0b8f682_scoped_true_render","indeterminate","allChecked","preventDefault","handleCheckAll","treeData","filesCount","itemHeight","show-checkbox","multiple","on-check-change","FileSelectorvue_type_template_id_a0b8f682_scoped_true_staticRenderFns","FlatTreevue_type_template_id_b51bb51e_scoped_true_render","class","prefixCls","style","phantomHeight","_l","nodeData","nodeKey","node","node-key","showCheckbox","on-check","handleCheck","on-selected","handleSelect","toggle-expand","handleExpand","FlatTreevue_type_template_id_b51bb51e_scoped_true_staticRenderFns","TreeNodevue_type_template_id_6dd3dc53_scoped_true_render","childrenKey","handleClick","arrowClasses","stopPropagation","checked","disabled","disableCheckbox","render","titleClasses","title","TreeNodevue_type_template_id_6dd3dc53_scoped_true_staticRenderFns","FlatTree_render","functional","props","Function","ctx","root","TreeNodevue_type_script_lang_js_","components","Render","default","Number","Boolean","computed","selectedCls","defineProperty","selected","_ref2","expand","showArrow","loading","showLoading","$parent","flatState","find","getItemStyle","methods","$set","changes","FlatTree_TreeNodevue_type_script_lang_js_","componentNormalizer","TreeNode","FlatTreevue_type_script_lang_js_prefixCls","FlatTreevue_type_script_lang_js_","checkDirectly","emptyText","stateTree","positionConfig","startIndex","endIndex","watch","deep","lodash_throttle_default","compileFlatState","rebuildTree","updateVisibleData","$el","scrollTop","leading","localeEmptyText","visibleNodes","visible","filter","toshow","slice","created","mounted","visibleItemCount","ceil","clientHeight","newStartIndex","floor","newEndIndex","contentTop","$refs","content","transform","keyCounter","flatTree","flattenChildren","parent","child","rootNode","checkedNodes","getCheckedNodes","updateTreeDown","parentKey","childHasCheckSetter","updateTreeUp","getSelectedNodes","obj","getCheckedAndIndeterminateNodes","checkStrictly","every","some","_this3","currentSelectedKey","findIndex","_ref","FlatTree_FlatTreevue_type_script_lang_js_","FlatTree_component","FlatTree","FileSelectorvue_type_script_lang_ts_App","_Vue","App","checkedFiles","treeDataEmpty","inherits","createClass","val","treeDataGenerator","fileItem","attr","display","width","filesize_default","$nextTick","checkAll","toCheck","assign","_this4","setTimeout","getCheckedFiles","genCheckedFiles","dataList","dirItem","get","countFiles","file","tslib_es6","vue_property_decorator","FileSelectorvue_type_script_lang_ts_","components_FileSelectorvue_type_script_lang_ts_","FileSelector_component","FileSelector","btFileConverter","files","fileTree","fileIdx","paths","curFileList","curPath","_loop","i","isLastPath","curList","subFile","_ret","getClientType","tracker_reportResourceValidity","isValid","reportData","valid","client","apitoken","baiduLinkRegex","baiduLinkWithCodeRegex","magnetRegex","httpLinkRegex","calcSize","reduce","acc","cur","Parsevue_type_script_lang_ts_App","taskType","heightWatcher","gettingFiles","extractCode","isExtractCodeCorrect","extractNeedVercode","fileGetter","parsingMagnetUri","parseMagnetTimeout","parsingHTTPUrl","clientVersion","wrongUrlHint","setTexts","verCompResult","$on","copyText","onMagnetResult","onHttpResult","lastScrollHeight","scrollHeight","clearTimeout","pageHeight","ext","clearTaskData","fileSelector","magnetMatch","handleMagnetUri","linkMatch","oldLink","gaEvents","zhugeIOEvents","trim","httpLinkMatch","handleHTTPUrl","setUrl","extract","getFileListFromLadder","btoa","encodeURIComponent","link","fileCount","genTreeData","_this5","showBtFiles","_this6","fileLimit","overLimit","showHTTPFile","selectedFileSizeSum","totalFileSize","Parsevue_type_script_lang_ts_","src_Parsevue_type_script_lang_ts_","Parse_component","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileSelector_vue_vue_type_style_index_0_id_a0b8f682_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FileSelector_vue_vue_type_style_index_0_id_a0b8f682_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","ADJUST_HEIGHT","URL_REQUEST","TREE_CHECKED","START_GETTING_FILES","FINISH_GETTING_FILES","GET_FILES_FAILED","START_PARSING_TORRENT","PARSING_TORRENT_FAILED","PARSING_TORRENT_SUCC","REQUEST_CREATE_OFFLINE_CONFIRM","START_CREATING_OFFLINE_TASK","CREATING_OFFLINE_TASK_FAILED","CREATING_OFFLINE_TASK_SUCC","GA_EVENT","ZHUGE_TRACK","PAGE_LOADED","RIGHT_CLICK","SEND_MAGNET_URI","CANCEL_PARSE_MAGNET_URI","FINISH_GETTING_BT_FILES","GET_HTTP_FILE_INFO","FINISH_GETTING_HTTP_FILE","SWITCH_PAGE_TAB","URL_RESPONSE","ON_SHOW","ON_HIDE","DO_EXTRACT","DO_CREATE_OFFLINE_TASK","CONFIRM_CREATE_OFFLINE_TASK","INIT","GET_INIT_DATA","SEND_MAGNET_URI_RESULT","SEND_MAGNET_URI_TIMEOUT","HTTP_FILE_INFO_RESULT","en","common","ok","cancel","close","exit","delete","nextStep","prevStep","networkErr","serviceErr","yuan","home","ui","deposit","withdraw","exchange","logout","feedback","settings","checkUpdate","downloading","noDownload","seeding","noSeeding","downloadFile","startKlamn","money","or","logoutFailed","checkUpdateFailed","alreadyLatest","account","login","register","resetpwd","regBtn","email","captcha","password","newPassword","invalidEmail","invalidPassword","wrongCaptcha","noCaptcha","wrongVerCode","expiredVerCode","wrongEmail","sendVerCodeError","wrongEmailOrPwd","loginFail","regFail","regSucc","loginSucc","resetPwdSucc","resetPwdFail","accountNotExist","createTask","modalTitle","inputVerCode","tryFree","freeForOneTenth","normalDownload","pointCost","pointsBalance","noFastHint","fastDownload","wrongExtractCode","invalidLink","noDownloadUrl","noTargetDir","fileExists","toManyTasks","sameUrlTaskExists","download","taskFailed","pause","resume","boost","retry","retrying","waiting","pending","paused","notFound","unAuthed","sameUrlExists","sysErr","noBalance","noServer","exceedsLimit","wrongUrl","taskTable","operate","earnedPoints","seedingHint","noFile","buy","price","points","currencyUnit","payhint","payMethod","paySucc","wxpay","alipay","fail","alipayAccount","alipayPlaceholder","realname","realnamePlaceholder","withdrawAmount","withdrawHint","withdrawPoints","withdrawAll","succ","noPoints","feedbackHint","getBaiduFile","linkInvalid","zh","goUpdate","reGetVerCode","userExists","suspiciousAccount","needVerCode","deleteTitle","deleteConfirm","deleteSeedingConfirm","deleteFile","payHint","getFile","ver1","ver2","ver1Arr","parseInt","ver2Arr","isNaN","versionCompareWithMethod","currVer","localVer","compareRes","EVENT_START_PARSING_SHARE_URL","EVENT_GET_FILE_NEED_SHARECODE","EVENT_GET_FILE_NEED_VERCODE","EVENT_NO_LADDERS_AVAILABLE","EVENT_NO_INIT_LADDERS","EVENT_GET_FILE_SHARE_URL_INVALID","EVENT_GET_FILE_SUCC","EVENT_GET_FILE_EMPTY","EVENT_GET_FILE_FAILED","EVENT_GET_FILE_SHARE_URL_BANNED","EVENT_NOT_INIT_FROM_CLIENT","EVENT_BAIDU_LINK_MASS_FILES","EVENT_OFFLINE_START_PARSE_TORRENT","EVENT_OFFLINE_PARSE_TORRENT_FAILED","EVENT_OFFLINE_PARSE_TORRENT_SUCC","EVENT_OFFLINE_MAGNET_INVALID","EVENT_OFFLINE_CREATE_TASK","EVENT_OFFLINE_CREATE_TASK_SUCC","EVENT_OFFLINE_CREATE_TASK_FAIL","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FlatTree_vue_vue_type_style_index_0_id_b51bb51e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FlatTree_vue_vue_type_style_index_0_id_b51bb51e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","BAIDU_UA","OFFLINE_LADDER_HOST","SERVER_HOST","DALIPAN_TRACKER_HOST","PARSE_LADDER_HOST","MAX_DL_FILES","EVENT_TYPE_EVT","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Parse_vue_vue_type_style_index_0_id_467e0509_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Parse_vue_vue_type_style_index_0_id_467e0509_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","dragenter","handleDragOver","directives","rawName","dragover","dragleave","handleDragLeave","drop","handleDrop","parsing","creatingOfflineTask","Offlinevue_type_script_lang_ts_App","showDragHint","magnetLinkToOffline","createOfflineTask","dataTransfer","dropEffect","parse_torrent_default","remote","parsedTorrent","infoHash","magUri","toMagnetURI","errCode","Offlinevue_type_script_lang_ts_","src_Offlinevue_type_script_lang_ts_","module","exports"],"mappings":"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","file":"js/chunk-common.20477c2e.js","sourcesContent":["export const postMessage = (message: string, data?: any) => {\n  console.log(`post message ${message}`)\n  if (window.context === 'android') {\n    return window.enfiAndroid.receiveWebMessage(JSON.stringify({ message, data }))\n  }\n  if (window.context === 'electron') {\n    return window.sendIpcMessage(message, data)\n  }\n}\n\nexport const addMessageListener = (\n  message: string,\n  callback: (data?: any) => void,\n  configs: { once: boolean } = { once: false },\n) => {\n  if (window.context === 'android') {\n    if (!window.androidMsgListener[message]) {\n      window.androidMsgListener[message] = []\n    }\n    if (configs && configs.once) {\n      const handler = (data: any) => {\n        callback(data)\n        const idx = window.androidMsgListener[message].indexOf(handler)\n        window.androidMsgListener[message].splice(idx, 1)\n      }\n      window.androidMsgListener[message].push(handler)\n      return handler\n    } else {\n      window.androidMsgListener[message].push(callback)\n      return callback\n    }\n  }\n  if (window.context === 'electron') {\n    return window.addIpcListener(message, (data: any) => {\n      console.log(`received message ${message}`)\n      console.log(data)\n      callback(data)\n    }, configs)\n  }\n}\n\nexport const removeMessageListener = (message: string, handlerOrIsAll?: boolean | ((data?: any) => void)) => {\n  if (window.context === 'android') {\n    if (handlerOrIsAll && handlerOrIsAll === true) {\n      window.androidMsgListener[message] = []\n    } else if (typeof handlerOrIsAll === 'function') {\n      const idx = window.androidMsgListener[message].indexOf(handlerOrIsAll)\n      window.androidMsgListener[message].splice(idx, 1)\n    }\n  }\n  if (window.context === 'electron') {\n    if (handlerOrIsAll && handlerOrIsAll === true) {\n      window.removeAllIpcListeners(message)\n    } else if (typeof handlerOrIsAll === 'function') {\n      window.removeIpcListener('message', handlerOrIsAll)\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeNode.vue?vue&type=style&index=0&id=6dd3dc53&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeNode.vue?vue&type=style&index=0&id=6dd3dc53&lang=scss&scoped=true&\"","export const SERVER_SUCCESS: number = 0 // 成功\nexport const INIT_NOT_COMPLETE: number = 40001\n\nexport const GET_LINK_URL_INVALID: number = 60001\nexport const GET_LINK_GETPARAMS_FAILED: number = 60002\nexport const GET_LINK_NEED_EXTRACT_CODE: number = 60003\nexport const GET_LINK_EXTRACT_FAILED: number = 60004\nexport const GET_LINK_EXTRACT_CODE_WRONG: number = 60005\nexport const GET_LINK_EXTRACT_CAPTCHA_WRONG: number = 60006\nexport const GET_LINK_GETCAPTCHA_FAILED: number = 60007\nexport const GET_LINK_GETFILE_FAILED: number = 60008\nexport const GET_LINK_GETLINK_FAILED: number = 60009\nexport const GET_LINK_COOKIE_INVALID: number = 60010\nexport const GET_LINK_GETLINK_NEED_CAPTCHA: number = 60011\nexport const GET_LINK_NO_COOKIES: number = 60012\nexport const GET_LINK_SHARE_URL_BANNED: number = 60013\nexport const GET_LINK_NO_LADDERS: number = 60998\nexport const GET_LINK_PARAMS_INVALID: number = 60999\n\nexport const LADDER_UNAUTHORIZED: number = 50001\nexport const LADDER_INVALID_PARAMS: number = 50002\nexport const LADDER_TOKEN_EXPIRED: number = 50003\nexport const LADDER_SERVER_BUSY: number = 50004\nexport const LADDER_SERVER_ERROR: number = 50005\nexport const LADDER_UNSUPPORTED_API: number = 50006\nexport const LADDER_URL_ERROR: number = 50101\nexport const LADDER_WRONG_SHARECODE: number = 50102\nexport const LADDER_WRONG_VERCODE: number = 50103\nexport const LADDER_URL_INVALID: number = 50104\nexport const LADDER_PARSE_FAILED: number = 50201\nexport const LADDER_OFFLINE_ERROR: number = 51000\nexport const LADDER_OFFLINE_CHECK_INVALID: number = 51001\nexport const LADDER_OFFLINE_FAILED: number = 51002\nexport const LADDER_OFFLINE_FORBIDDEN: number = 51013\nexport const LADDER_OFFLINE_ALREADY_FAILED: number = 51014\n\nexport const OFFLINE_CHECKER_NO_USER = 10099 // 用户不存在\nexport const OFFLINE_CHECKER_INV_PARAMS = 10103 // 参数不合法\nexport const OFFLINE_CHECKER_NO_BALANCE = 10142 // 无可用离线次数\nexport const OFFLINE_CHECKER_NOT_ENOUGH = 10143 // 离线次数不足\nexport const OFFLINE_CHECKER_DEDUCT_FAIL = 10144 // 离线次数扣减失败\nexport const OFFLINE_CHECKER_FAIL = 10145 // 生成 checker 失败\n","import Vue from 'vue'\nimport {\n  Button,\n  Icon,\n  Input,\n  Message,\n  Checkbox,\n  Tree,\n  Spin,\n  Alert,\n  Tabs,\n  TabPane,\n} from 'iview'\nimport 'iview/dist/styles/iview.css'\nimport '@/assets/css/iview-theme.less'\n\nVue.component('Button', Button)\nVue.component('Icon', Icon)\nVue.component('Input', Input)\nVue.component('Checkbox', Checkbox)\nVue.component('Tree', Tree)\nVue.component('Spin', Spin)\nVue.component('Alert', Alert)\nVue.component('Tabs', Tabs)\nVue.component('TabPane', TabPane)\n\nVue.prototype.$Message = Message\n","import Vue from 'vue'\nimport { postMessage } from '@/utils/messaging'\nimport * as MESSAGES from '@/constants/messages'\n\nconst ga = {\n  event: (...args: string[]) => {\n    if (args.length > 1) {\n      postMessage(MESSAGES.GA_EVENT, args)\n      // return window.gtag('event', args[1] || 'event', {\n      //   'event_category' : args[0],\n      //   'event_label' : args[2],\n      //   'value': args[3],\n      // })\n    }\n  },\n}\n\nVue.prototype.$gaVisitor = ga\n","import { postMessage } from '@/utils/messaging'\nimport * as MESSAGES from '@/constants/messages'\n\nwindow.zhuge = {\n  track: (event: string, data?: any) => {\n    postMessage(MESSAGES.ZHUGE_TRACK, [event, data])\n  },\n}\n","import Vue from 'vue'\nimport VueI18n from 'vue-i18n'\nimport '@/plugins/iview'\nimport '@/assets/css/_base.scss'\nimport '@/plugins/ga'\nimport '@/utils/zhuge'\nimport { addMessageListener, postMessage } from '@/utils/messaging'\nimport * as MESSAGES from '@/constants/messages'\nimport EventHub from '@/components/EventHub'\n\nVue.use(VueI18n)\nVue.config.productionTip = false\nVue.config.devtools = process.env.NODE_ENV === 'development'\n\nif (/Electron/.test(navigator.userAgent)) {\n  window.context = 'electron'\n}\nif (/enfi-cloud-android/.test(navigator.userAgent) || /Android/.test(navigator.userAgent)) {\n  document.body.classList.add('android')\n  window.context = 'android'\n  window.androidMsgListener = {}\n  window.receiveAndroidMessage = (data: any) => {\n    console.log('android message received')\n    console.log(data)\n    let msgData: { message: string, data: any } = data\n    try {\n      // msgData = JSON.parse(data)\n      if (!msgData.message || msgData.message.length === 0) {\n        throw new Error('no \"message\" in msgData')\n      }\n      const handlers = window.androidMsgListener[msgData.message]\n      if (handlers) {\n        handlers.forEach((handler: (data?: any) => void) => {\n          handler(msgData.data)\n        })\n      }\n    } catch (err) {\n      console.error('android message parse failed')\n      console.error(err)\n    }\n  }\n}\n\n// receive init data from the client\naddMessageListener(MESSAGES.INIT, (data: any) => {\n  console.log('received init message')\n  window.initData(data)\n})\n\nwindow.ladderApiVer = 'v3'\nwindow.initData = (data: any) => {\n  console.log('init window data')\n  console.log(data)\n  window.appver = data.appver\n  window.platform = data.platform\n  window.enfiToken = data.enfiToken\n  window.enfiUid = data.enfiUid\n  window.deviceId = data.deviceId\n  if (data.ladderApiVer === 'v2') {\n    window.ladderApiVer = 'v2'\n  }\n  EventHub.$emit('init-data')\n}\n\npostMessage(MESSAGES.PAGE_LOADED)\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  postMessage(MESSAGES.PAGE_LOADED)\n})\nwindow.onload = () => {\n  postMessage(MESSAGES.PAGE_LOADED)\n}\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Offline.vue?vue&type=style&index=0&id=80402800&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Offline.vue?vue&type=style&index=0&id=80402800&lang=scss&scoped=true&\"","import Vue from 'vue'\n\nexport default new Vue()\n","import axios, { AxiosResponse } from 'axios'\nimport { SERVER_HOST } from '@/constants/constants'\nimport { versionCompareWithMethod } from '@/utils/versionCompare'\n\nexport const getOfflineChecker = () => {\n  console.log('getting offline checker')\n  console.log(window.appver)\n  let reqUrl = ''\n  if (versionCompareWithMethod('2.4.0', window.appver, 'lte')) {\n    reqUrl = `${SERVER_HOST}/api/v2/offlineDl/consume`\n  } else {\n    reqUrl = `${SERVER_HOST}/api/offlineDl/apply`\n  }\n  return axios({\n    url: `${reqUrl}?plt=${window.platform}&appv=${window.appver}&ref=bdp&enfi-uid=${window.enfiUid}&enfi-token=${window.enfiToken}`,\n    method: 'POST',\n    headers: {\n      Authorization: window.enfiToken,\n    },\n    data: {\n      deviceId: window.deviceId,\n      quantity: 1,\n      platform: window.context === 'android' ? 'android' : 'pc',\n    },\n  })\n    .then((res: AxiosResponse<any>) => {\n      if (res.data.code === 0) {\n        return res.data.data.checker\n      }\n      console.error('get checker failed')\n      console.error(res.data)\n      return Promise.reject(res.data)\n    })\n    .catch((err: any) => {\n      console.error('get checker failed')\n      console.error(err)\n      return Promise.reject(err)\n    })\n}\n","import axios, { AxiosResponse } from 'axios'\nimport CryptoJS from 'crypto-js'\nimport qs from 'qs'\nimport * as ERR_CODES from '@/constants/errCodes'\nimport { OFFLINE_LADDER_HOST, PARSE_LADDER_HOST } from '@/constants/constants'\nimport { getOfflineChecker } from '@/services/server'\nimport { versionCompareWithMethod } from '@/utils/versionCompare'\n\n/**\n * Baidupan share link parse service\n */\n\ninterface GetLinkPostData {\n  shareUrl: string\n  shareCode: string\n  paths: string[]\n  verCode?: string\n  verCodeStr?: string\n  uid?: string\n  token?: string\n}\n\ninterface GetFileListPostData {\n  shareUrl: string\n  shareCode: string\n  verCode?: string\n  verCodeStr?: string\n  uid?: string\n  token?: string\n}\n\ninterface CreateOfflinePostData {\n  magnetUri: string\n  name?: string\n}\n\nconst decryptKey = 'zTckeF$U#iMaufRo'\n\nconst decrypt = (encrypted: string) => {\n  const decryptKeyUtf8 = CryptoJS.enc.Utf8.parse(decryptKey)\n  const decrypted: any = CryptoJS.AES.decrypt(encrypted, decryptKeyUtf8, {\n    iv: decryptKeyUtf8,\n    mode: CryptoJS.mode.CBC,\n    padding: CryptoJS.pad.Pkcs7,\n  })\n  return JSON.parse(decrypted.toString(CryptoJS.enc.Utf8))\n}\n\nexport const getFileList: (payloads: GetFileListPostData) => Promise<any> = payloads => {\n  console.log('getting baidu files from ladder')\n  let apiVer = 'v1'\n  if (versionCompareWithMethod('2.3.0', window.appver, 'lte')) {\n    apiVer = 'v3'\n    if (window.ladderApiVer === 'v2') {\n      apiVer = 'v1'\n    }\n  }\n  return axios({\n    url: `${PARSE_LADDER_HOST}/${apiVer}/list?plt=${window.platform}&appv=${window.appver}&ref=bdp&enfi-uid=${payloads.uid}&enfi-token=${payloads.token}`,\n    method: 'POST',\n    data: qs.stringify({\n      shareurl: payloads.shareUrl,\n      sharecode: payloads.shareCode,\n      vcode: payloads.verCode,\n      vcode_str: payloads.verCodeStr,\n    }),\n    withCredentials: true,\n  })\n    .then((res: AxiosResponse<any>) => {\n      // return Promise.reject({\n      //   code: ERR_CODES.LADDER_SERVER_BUSY,\n      // })\n      if (res.data.code === ERR_CODES.SERVER_SUCCESS) {\n        const resData = decrypt(res.data.data)\n        return resData\n      }\n      return Promise.reject(res.data)\n    })\n    .catch((err: any) => {\n      console.error('get file list failed from ladder')\n      console.error(err)\n      // if (\n      //   err.code === ERR_CODES.LADDER_SERVER_BUSY ||\n      //   err.code === ERR_CODES.LADDER_SERVER_ERROR ||\n      //   err.code === ERR_CODES.LADDER_URL_ERROR ||\n      //   err.code === undefined\n      // ) {\n      //   return Promise.reject(err)\n      // }\n      return Promise.reject(err)\n    })\n}\n\nexport const createOfflineTask = (payloads: CreateOfflinePostData) => {\n  console.log('creating offline task from ladders')\n  console.log(payloads)\n\n  return getOfflineChecker()\n    .then((checker: string) => {\n      return axios({\n        url: `${OFFLINE_LADDER_HOST}/v1/offline/task?plt=${window.platform}&appv=${window.appver}&ref=bdp&enfi-uid=${window.enfiUid}&enfi-token=${window.enfiToken}`,\n        method: 'POST',\n        data: {\n          check: checker,\n          url: payloads.magnetUri,\n          name: payloads.name,\n        },\n        withCredentials: true,\n      })\n    })\n    .then((res: AxiosResponse<any>): any => {\n      // return Promise.reject({\n      //   code: ERR_CODES.LADDER_SERVER_BUSY,\n      // })\n      if (res.data.code === ERR_CODES.SERVER_SUCCESS) {\n        return true\n      }\n      return Promise.reject(res.data)\n    })\n    .catch(\n      (err: any): any => {\n        console.error('create offline task failed from ladder')\n        console.error(err)\n        return Promise.reject(err)\n      },\n    )\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.gettingFiles)?_c('Spin',{staticClass:\"loading-spin\",attrs:{\"size\":\"large\",\"fix\":\"\"}},[_c('span',{staticClass:\"loading-anim\"})]):_vm._e(),(_vm.parsingMagnetUri)?_c('Spin',{staticClass:\"loading-spin\",attrs:{\"size\":\"large\",\"fix\":\"\"}},[_c('span',{staticClass:\"loading-anim\"}),_c('p',{staticClass:\"parsing-magnet-hint\"},[_vm._v(\"正在解析磁力链接...\\n      \"),_c('a',{staticClass:\"cancel-parse-magnet-btn\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":_vm.cancelParseMagnet}},[_vm._v(\"取消\")]),_vm._v(\"  \\n      \"),(_vm.parseMagnetTimeout)?_c('a',{staticClass:\"offline-magnet-btn\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":_vm.createOffline}},[_vm._v(\"离线加速\")]):_vm._e()])]):_vm._e(),(_vm.parsingHTTPUrl)?_c('Spin',{staticClass:\"loading-spin\",attrs:{\"size\":\"large\",\"fix\":\"\"}},[_c('span',{staticClass:\"loading-anim\"})]):_vm._e(),(_vm.errMsg.length > 0)?_c('Alert',{staticClass:\"extract-code-wrong\",attrs:{\"type\":\"error\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.errMsg)+\"\\n  \")]):_vm._e(),(_vm.showFileSelector)?[(_vm.BTParseFinished)?_c('div',{staticClass:\"bt-info-container\"},[_c('img',{staticClass:\"bt-icon\",attrs:{\"src\":require(\"./assets/img/bticon.png\")}}),_c('div',{staticClass:\"bt-info\"},[_c('p',{staticClass:\"bt-name\"},[_vm._v(_vm._s(_vm.BTName))]),_c('p',{staticClass:\"bt-size\"},[_vm._v(_vm._s(_vm.displayTotalSize))])])]):_vm._e(),(_vm.HTTPParseFinished)?_c('div',{staticClass:\"http-link-result\"},[_vm._v(\"\\n      \"+_vm._s(_vm.inputLink)+\"\\n    \")]):_vm._e(),(!_vm.BTParseFinished && !_vm.HTTPParseFinished)?_c('div',{staticClass:\"baidu-link-result\"},[_vm._v(\"\\n      \"+_vm._s(_vm.shareLink)+\"\\n    \")]):_vm._e()]:[_c('Input',{staticClass:\"link-input share-link-input\",attrs:{\"type\":\"textarea\",\"rows\":4,\"autosize\":{ minRows: 4,maxRows: 4 },\"placeholder\":_vm.inputPlaceHolder},nativeOn:{\"paste\":function($event){return _vm.onLinkPasted($event)},\"contextmenu\":function($event){return _vm.onContextMenu($event)}},model:{value:(_vm.inputLink),callback:function ($$v) {_vm.inputLink=$$v},expression:\"inputLink\"}}),(_vm.needExtractCode && !_vm.showFileSelector)?_c('div',{staticClass:\"extract-code-wrapper\"},[_c('Input',{staticClass:\"link-input\",attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('createTask.ui.inputExtractCode')},nativeOn:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.parseLink($event)}},model:{value:(_vm.inputExtractCode),callback:function ($$v) {_vm.inputExtractCode=$$v},expression:\"inputExtractCode\"}})],1):_vm._e(),(_vm.extractNeedVercode)?_c('div',{staticClass:\"extract-ver-code\"},[_c('Input',{staticClass:\"link-input vercode-input\",attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('createTask.ui.inputVerCode')},nativeOn:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.extractVerCodeEnterHndl($event)}},model:{value:(_vm.extractVerCode),callback:function ($$v) {_vm.extractVerCode=$$v},expression:\"extractVerCode\"}}),_c('img',{attrs:{\"src\":_vm.extractVerCodeSrc,\"alt\":\"\"},on:{\"click\":_vm.getCaptcha}})],1):_vm._e()],(!_vm.isSingleFile && _vm.showFileSelector)?[_c('FileSelector',{ref:\"file-selector\",attrs:{\"fileList\":_vm.fileList},on:{\"check\":_vm.onCheck}})]:_vm._e(),(\n      !_vm.BTParseFinished &&\n      _vm.isSingleFile &&\n      _vm.showFileSelector &&\n      _vm.hasFilename(_vm.fileList[0].filename, _vm.fileList[0].filetype)\n    )?[_c('div',{staticClass:\"file-container\"},[_c('div',{staticClass:\"file-icon\"},[_c('span',{staticClass:\"file-type\"},[_vm._v(_vm._s(_vm.fileList[0].filetype))])]),_c('div',{staticClass:\"file-info\"},[_c('p',{staticClass:\"file-name\"},[_vm._v(_vm._s(_vm.fileList[0].filename))]),_c('p',{staticClass:\"file-size\"},[_vm._v(_vm._s(_vm.fileList[0].size > 0 ? _vm.displaySumSize : '未知大小'))])])])]:_vm._e(),(_vm.showFileSelector && !_vm.isSingleFile)?_c('div',{staticClass:\"select-hint\"},[_c('span',{staticClass:\"selected-files\"},[_vm._v(\"\\n      已选中\"+_vm._s(_vm.checkedFilesCount)+\"个文件，共\"+_vm._s(_vm.displaySumSize)+\"\\n    \")])]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable */\n\nvar u = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/~！@#￥%……&\"\n  , l = String.fromCharCode\n  , d = function(e) {\n  if (e.length < 2) {\n    var n = e.charCodeAt(0);\n    return 128 > n ? e : 2048 > n ? l(192 | n >>> 6) + l(128 | 63 & n) : l(224 | n >>> 12 & 15) + l(128 | n >>> 6 & 63) + l(128 | 63 & n)\n  }\n  var n = 65536 + 1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320);\n  return l(240 | n >>> 18 & 7) + l(128 | n >>> 12 & 63) + l(128 | n >>> 6 & 63) + l(128 | 63 & n)\n}\n  , f = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g\n  , g = function(e) {\n  return (e + \"\" + Math.random()).replace(f, d)\n}\n  , h = function(e) {\n  var n = [0, 2, 1][e.length % 3]\n    , t = e.charCodeAt(0) << 16 | (e.length > 1 ? e.charCodeAt(1) : 0) << 8 | (e.length > 2 ? e.charCodeAt(2) : 0)\n    , o = [u.charAt(t >>> 18), u.charAt(t >>> 12 & 63), n >= 2 ? \"=\" : u.charAt(t >>> 6 & 63), n >= 1 ? \"=\" : u.charAt(63 & t)];\n  return o.join(\"\")\n}\n  , m = function(e) {\n  return e.replace(/[\\s\\S]{1,3}/g, h)\n}\n  , p = function() {\n  return m(g((new Date).getTime()))\n}\n  , w = function(e, n) {\n  return n ? p(String(e)).replace(/[+\\/]/g, function(e) {\n    return \"+\" == e ? \"-\" : \"_\"\n  }).replace(/=/g, \"\") : p(String(e))\n};\n\nexport default (baiduId) => w(baiduId)\n","import CryptoJS from 'crypto-js'\nimport merge from 'lodash.merge'\nimport * as MESSAGES from '@/constants/messages'\nimport { postMessage, addMessageListener } from '@/utils/messaging'\nimport { BAIDU_UA } from '@/constants/constants'\n\nexport default {\n  defaultOptons: {\n    method: 'GET',\n    headers: {\n      'User-Agent': BAIDU_UA,\n      Host: 'pan.baidu.com',\n      Connection: 'keep-alive',\n      Origin: 'https://pan.baidu.com',\n      'X-Requested-With': 'XMLHttpRequest',\n    },\n  },\n\n  setDefaults (defaultOptons: { [key: string]: any }) {\n    const setOption = (target: { [key: string]: any }, src: { [key: string]: any }) => {\n      for (let key in src) {\n        if (src.hasOwnProperty(key)) {\n          if (typeof src[key] === 'object') {\n            if (!target[key]) {\n              target[key] = {}\n            }\n            setOption(target[key], src[key])\n          } else {\n            target[key] = src[key]\n          }\n        }\n      }\n    }\n    setOption(this.defaultOptons, defaultOptons)\n  },\n\n  req (params: any) {\n    console.log('requesting baidu url')\n    console.log(params)\n    return new Promise((resolve, reject) => {\n      const reqId = CryptoJS.lib.WordArray.random(16)\n\n      postMessage(`${MESSAGES.URL_REQUEST}-${reqId}`, merge({}, this.defaultOptons, params))\n      const receiveMessage = (data: any) => {\n        console.log('iframe url-response message received')\n        console.log(data)\n        if (data.code === 0) {\n          return resolve(data)\n        }\n        return reject(data)\n      }\n      addMessageListener(`${MESSAGES.URL_RESPONSE}-${reqId}`, receiveMessage, { once: true })\n    })\n  },\n}\n","import qs from 'qs'\n// @ts-ignore\nimport genBaiduLogId from '@/services/genBaiduLogid.js'\nimport * as ERR_CODES from '@/constants/errCodes'\nimport { getFileList as ladderGetFileList } from '@/services/ladder'\nimport baiduReq from '@/utils/baiduReq'\nimport { BaiduFileItem } from '@/components/types'\n\nclass BaiduFileGetter {\n  isFromLadder: boolean = true // request from server or from baidu (need cookies)\n  shareUrl: string = ''\n  shareCode: string = ''\n  surl: string = ''\n  extraUrlParams: string = ''\n  BAIDUID: string = ''\n  BDCLND: string = ''\n  fileList: BaiduFileItem[] = []\n  yunData: any = {}\n\n  clearData () {\n    this.isFromLadder = true\n    this.shareUrl = ''\n    this.shareCode = ''\n    this.surl = ''\n    this.fileList = []\n    this.BDCLND = ''\n  }\n\n  setUrl (shareUrl: string) {\n    let surl: string = ''\n    let surlMatch = shareUrl.match(/s\\/1(.*?)(\\/|$|&)/)\n    if (surlMatch) {\n      surl = surlMatch[1]\n    } else {\n      surlMatch = shareUrl.match(/(wap|share)\\/.*?surl=1?(.*?)(&|$)/)\n      if (surlMatch) {\n        surl = surlMatch[2]\n      }\n    }\n    console.log('surlmatch:')\n    console.log(surlMatch, surl)\n    this.clearData()\n    return Promise.resolve()\n      .then((): boolean | Promise<any> => {\n        if (surl) {\n          this.shareUrl = `https://pan.baidu.com/s/1${surl}`\n          this.shareCode = ''\n          this.surl = surl\n          console.log(this.surl)\n          baiduReq.setDefaults({ headers: { Referer: shareUrl } })\n          return BaiduFileGetter.getUrlParams()\n        } else {\n          return Promise.reject({\n            code: ERR_CODES.GET_LINK_URL_INVALID,\n            msg: '分享链接不合法',\n          })\n        }\n      })\n      .catch((err: any) => {\n        console.error('file getter init failed')\n        console.error(err)\n        return Promise.reject(err)\n      })\n  }\n\n  getFileListFromLadder (verCode?: string, verCodeStr?: string) {\n    return ladderGetFileList({\n      shareUrl: this.shareUrl,\n      shareCode: this.shareCode,\n      verCode,\n      verCodeStr,\n      uid: window.enfiUid,\n      token: window.enfiToken,\n    })\n      .then(\n        (res: any): any => {\n          console.log('get file list succ')\n          if (res.errno === 0) {\n            const genFileList = (list: any[]) =>\n              list.map(\n                (item: any): BaiduFileItem => ({\n                  id: item.fs_id,\n                  filename: item.server_filename,\n                  filetype: item.isdir ? '' : item.server_filename.split('.').pop(),\n                  size: item.size || 0,\n                  isDir: !!item.isdir,\n                  isDelete: item.isdelete || '',\n                  status: item.status || '',\n                  category: item.category || '',\n                  deteteId: item.delete_fs_id || '',\n                  path: item.path,\n                  md5: item.md5,\n                  children: Array.isArray(item.enfi_children)\n                    ? genFileList(item.enfi_children)\n                    : item.enfi_children,\n                }),\n              )\n            this.fileList = genFileList(res.list)\n            return this.fileList\n          }\n          return Promise.reject({\n            code: ERR_CODES.GET_LINK_EXTRACT_FAILED,\n            baiduErrno: res.errno,\n            msg: '提取失败，请稍后重试',\n          })\n        },\n      )\n      .catch((err: any) => {\n        if (!err) {\n          return Promise.reject(err)\n        }\n        if (\n          err.code === ERR_CODES.LADDER_SERVER_BUSY ||\n          err.code === ERR_CODES.LADDER_SERVER_ERROR ||\n          err.code === ERR_CODES.LADDER_URL_ERROR\n        ) {\n          console.log('ladder is unavailable')\n          // this.isFromLadder = false\n          // return this.getFileList()\n          return Promise.reject({\n            code: ERR_CODES.GET_LINK_NO_LADDERS,\n          })\n          // return Promise.reject({\n          //   code: ERR_CODES.GET_LINK_EXTRACT_FAILED,\n          //   msg: '提取失败',\n          // })\n        }\n        if (err.code === ERR_CODES.LADDER_URL_INVALID) {\n          return Promise.reject({\n            code: ERR_CODES.GET_LINK_SHARE_URL_BANNED,\n            msg: '请检查分享链接是否有效',\n          })\n        }\n        if (err.code === ERR_CODES.LADDER_WRONG_SHARECODE) {\n          return Promise.reject({\n            code: ERR_CODES.GET_LINK_NEED_EXTRACT_CODE,\n            msg: '提取码错误',\n          })\n        }\n        if (err.code === ERR_CODES.LADDER_WRONG_VERCODE) {\n          return Promise.reject({\n            code: ERR_CODES.GET_LINK_EXTRACT_CAPTCHA_WRONG,\n            msg: '验证码错误',\n          })\n        }\n        if (err.code === ERR_CODES.LADDER_PARSE_FAILED) {\n          return Promise.reject({\n            code: ERR_CODES.GET_LINK_EXTRACT_FAILED,\n            msg: '提取失败，请稍后重试',\n          })\n        }\n        return Promise.reject(err)\n      })\n  }\n\n  extract (code: string, verCode: string, verCodeStr: string): Promise<boolean> {\n    console.log('extracting file')\n    this.shareCode = code\n    return baiduReq\n      .req({\n        url: `https://pan.baidu.com/share/verify?surl=${this.surl}&t=${Date.now()}&${\n          this.extraUrlParams\n        }&bdstoken=${this.yunData.bdstoken || 'null'}&logid=${genBaiduLogId(\n          this.BAIDUID,\n        )}=&clienttype=0`,\n        method: 'POST',\n        responseType: 'json',\n        data: qs.stringify({\n          pwd: code,\n          vcode: verCode,\n          vcode_str: verCodeStr,\n        }),\n      })\n      .then(\n        (res: any): boolean | PromiseLike<any> => {\n          console.log(JSON.stringify(res.data))\n          console.log(res.data.errno)\n          if (res.data.errno === -9) {\n            // 提取码错误\n            return Promise.reject({\n              code: ERR_CODES.GET_LINK_EXTRACT_CODE_WRONG,\n              msg: '提取码错误',\n            })\n          }\n          if (res.data.errno === -62) {\n            // 验证码错误\n            return Promise.reject({\n              code: ERR_CODES.GET_LINK_EXTRACT_CAPTCHA_WRONG,\n              msg: '验证码错误',\n            })\n          }\n          if (res.data.errno === 0 || res.data.errno === 105) {\n            return true\n          }\n          return Promise.reject({\n            code: ERR_CODES.GET_LINK_EXTRACT_FAILED,\n            msg: '提取失败，请稍后重试',\n            errObj: res.data,\n          })\n        },\n      )\n      .catch((err: any) => {\n        console.error('extract file failed')\n        console.error(err)\n        return Promise.reject(err)\n      })\n  }\n\n  getCaptcha (): Promise<{ img: string; str: string }> {\n    return baiduReq\n      .req({\n        url: `https://pan.baidu.com/api/getcaptcha?prod=shareverify&web=1&t=${Math.random()}&${\n          this.extraUrlParams\n        }&bdstoken=null&logid=${genBaiduLogId(this.BAIDUID)}&clienttype=0`,\n        method: 'GET',\n      })\n      .then(\n        (res: any): any => {\n          if (res.data.errno === 0) {\n            return { img: res.data.vcode_img, str: res.data.vcode_str }\n          }\n          return Promise.reject({\n            code: ERR_CODES.GET_LINK_GETCAPTCHA_FAILED,\n            msg: '获取验证码失败',\n            errObj: res.data,\n          })\n        },\n      )\n      .catch((err: any) => {\n        console.error('get extract captcha failed')\n        console.error(err)\n        return Promise.reject(err)\n      })\n  }\n\n  getDownloadCaptcha (): Promise<{ img: string; str: string }> {\n    console.log('getting download captcha')\n    // 'https://pan.baidu.com/api/getvcode?prod=pan&t=0.8087614636544309&bdstoken=34b5cd8f6b510a4e22e1e4db5e87cc35&channel=chunlei&clienttype=0&web=1&app_id=265486&logid=MTU1NjExMTU1NDUzODAuNTk2NjY4ODQ2OTM0ODUy'\n    return baiduReq\n      .req({\n        url: `https://pan.baidu.com/api/getvcode?prod=pan&t=${Math.random()}&${\n          this.extraUrlParams\n        }&bdstoken=${this.yunData.bdstoken}&logid=${genBaiduLogId(\n          this.BAIDUID,\n        )}&clienttype=0`,\n        method: 'GET',\n      })\n      .then(\n        (res: any): any => {\n          if (res.data.errno === 0) {\n            return { img: res.data.img, str: res.data.vcode }\n          }\n          return Promise.reject({\n            code: ERR_CODES.GET_LINK_GETCAPTCHA_FAILED,\n            msg: '获取验证码失败',\n            errObj: res.data,\n          })\n        },\n      )\n      .catch((err: any) => {\n        console.error('get download link captcha failed')\n        console.error(err)\n        return Promise.reject(err)\n      })\n  }\n\n  static getUrlParams () {\n    return baiduReq\n      .req({\n        url: `https://pan.baidu.com/sns/box-static/disk-share/js/boot.js?t=${Date.now()}`,\n        method: 'GET',\n        headers: {\n          Accept: '*/*',\n        },\n      })\n      .then((res: any) => {\n        const urlParamsReg = /ajaxSend\\([\\s\\S]*?\"[&|?](channel=.*?app_id=\\d*)\"/\n        const urlParamsMatch = res.data.match(urlParamsReg)\n        if (urlParamsMatch !== null) {\n          return urlParamsMatch[1]\n        } else {\n          return Promise.resolve('channel=chunlei&web=1&app_id=250528')\n        }\n      })\n      .catch((err: any) => {\n        console.error('get url params failed')\n        console.error(err)\n        return Promise.resolve('channel=chunlei&web=1&app_id=250528')\n      })\n  }\n}\n\nexport default BaiduFileGetter\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-selector-wrapper\"},[_c('div',{staticClass:\"selector-header\"},[_c('span',{staticClass:\"header-filename\"},[_c('Checkbox',{staticClass:\"check-all\",attrs:{\"indeterminate\":_vm.indeterminate,\"value\":_vm.allChecked},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleCheckAll($event)}}}),_vm._v(\"\\n      文件名称\\n    \")],1),_c('span',{staticClass:\"header-filetype\"},[_vm._v(\"类型\")]),_c('span',{staticClass:\"header-filesize\"},[_vm._v(\"大小\")])]),(_vm.treeData.length > 0)?_c('div',{staticClass:\"file-tree-wrapper scroll-view\"},[(_vm.filesCount > 100)?_c('FlatTree',{ref:\"file-tree\",staticClass:\"file-tree\",attrs:{\"data\":_vm.treeData,\"itemHeight\":26,\"show-checkbox\":\"\",\"multiple\":\"\"},on:{\"on-check-change\":_vm.onCheck}}):_c('Tree',{ref:\"file-tree\",staticClass:\"file-tree\",attrs:{\"data\":_vm.treeData,\"show-checkbox\":\"\",\"multiple\":\"\"},on:{\"on-check-change\":_vm.onCheck}})],1):_vm._e(),(_vm.treeDataEmpty)?_c('div',{staticClass:\"empty-tree-hint\"},[_vm._v(\"提取分享链接内容失败！\")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"enfi-flat-tree scroll-view\",class:_vm.prefixCls},[_c('div',{staticClass:\"enfi-flat-tree-phantom\",style:((\"height: \" + _vm.phantomHeight + \"px\"))}),_c('div',{ref:\"content\",staticClass:\"enfi-flat-tree-content\"},[_c('ul',{staticClass:\"enfi-flat-tree-children\",class:(_vm.prefixCls + \"-children\")},_vm._l((_vm.visibleNodes),function(nodeData){return _c('TreeNode',{key:nodeData.nodeKey,attrs:{\"data\":nodeData.node,\"node-key\":nodeData.nodeKey,\"show-checkbox\":_vm.showCheckbox},on:{\"on-check\":_vm.handleCheck,\"on-selected\":_vm.handleSelect,\"toggle-expand\":_vm.handleExpand}})}),1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.data.toshow)?_c('li',{staticClass:\"enfi-flat-tree-item\",class:_vm.data[_vm.childrenKey] ? 'folder' : '',style:(_vm.getItemStyle),on:{\"click\":_vm.handleClick}},[_c('span',{class:_vm.arrowClasses,on:{\"click\":function($event){$event.stopPropagation();return _vm.handleExpand($event)}}},[(_vm.showArrow)?_c('Icon',{attrs:{\"type\":\"ios-arrow-forward\"}}):_vm._e(),(_vm.showLoading)?_c('Icon',{staticClass:\"ivu-load-loop\",attrs:{\"type\":\"ios-loading\"}}):_vm._e()],1),(_vm.showCheckbox)?_c('Checkbox',{attrs:{\"value\":_vm.data.checked,\"indeterminate\":_vm.data.indeterminate,\"disabled\":_vm.data.disabled || _vm.data.disableCheckbox},nativeOn:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleCheck($event)}}}):_vm._e(),(_vm.data.render)?_c('Render',{attrs:{\"render\":_vm.data.render,\"data\":_vm.data,\"node\":_vm.node}}):_c('span',{class:_vm.titleClasses,on:{\"click\":_vm.handleSelect}},[_vm._v(_vm._s(_vm.data.title))])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n  name: 'RenderCell',\n  functional: true,\n  props: {\n    render: Function,\n    data: Object,\n    node: Array,\n  },\n  render: (h, ctx) => {\n    const params = {\n      root: ctx.props.node[0],\n      node: ctx.props.node[1],\n      data: ctx.props.data,\n    }\n    return ctx.props.render(h, params)\n  },\n}\n","<template>\n  <li\n    class=\"enfi-flat-tree-item\"\n    :class=\"data[childrenKey] ? 'folder' : ''\"\n    v-if=\"data.toshow\"\n    :style=\"getItemStyle\"\n    @click=\"handleClick\"\n  >\n    <span :class=\"arrowClasses\" @click.stop=\"handleExpand\">\n      <Icon v-if=\"showArrow\" type=\"ios-arrow-forward\"></Icon>\n      <Icon v-if=\"showLoading\" type=\"ios-loading\" class=\"ivu-load-loop\"></Icon>\n    </span>\n    <Checkbox\n      v-if=\"showCheckbox\"\n      :value=\"data.checked\"\n      :indeterminate=\"data.indeterminate\"\n      :disabled=\"data.disabled || data.disableCheckbox\"\n      @click.native.prevent.stop=\"handleCheck\"\n    >\n    </Checkbox>\n    <Render v-if=\"data.render\" :render=\"data.render\" :data=\"data\" :node=\"node\"></Render>\n    <span v-else :class=\"titleClasses\" @click=\"handleSelect\">{{ data.title }}</span>\n  </li>\n</template>\n<script>\nimport Render from './render'\n\nconst prefixCls = 'ivu-tree'\n\nexport default {\n  name: 'FlatTreeNode',\n  components: { Render },\n  props: {\n    data: {\n      type: Object,\n      default () {\n        return {}\n      },\n    },\n    childrenKey: {\n      type: String,\n      default: 'children',\n    },\n    nodeKey: {\n      type: Number,\n    },\n    showCheckbox: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data () {\n    return {\n      prefixCls: prefixCls,\n    }\n  },\n  computed: {\n    selectedCls () {\n      return [\n        {\n          [`${prefixCls}-node-selected`]: this.data.selected,\n        },\n      ]\n    },\n    arrowClasses () {\n      return [\n        `${prefixCls}-arrow`,\n        {\n          [`${prefixCls}-arrow-disabled`]: this.data.disabled,\n          [`${prefixCls}-arrow-open`]: this.data.expand,\n        },\n      ]\n    },\n    titleClasses () {\n      return [\n        `${prefixCls}-title`,\n        {\n          [`${prefixCls}-title-selected`]: this.data.selected,\n        },\n      ]\n    },\n    showArrow () {\n      return (\n        (this.data[this.childrenKey] && this.data[this.childrenKey].length) ||\n        ('loading' in this.data && !this.data.loading)\n      )\n    },\n    showLoading () {\n      return 'loading' in this.data && this.data.loading\n    },\n    node () {\n      // 将所有的 node（即flatState）和当前 node 都传递\n      return [\n        this.$parent.flatState,\n        this.$parent.flatState.find(item => item.nodeKey === this.data.nodeKey),\n      ]\n    },\n\n    getItemStyle () {\n      if (this.data.path && this.data.path.length > 0) {\n        return `padding-left: ${this.data.path.length * 18}px`\n      }\n      return ''\n    },\n  },\n  methods: {\n    handleExpand () {\n      const item = this.data\n      if (item.disabled) return\n\n      if (item[this.childrenKey] && item[this.childrenKey].length) {\n        this.$set(this.data, 'expand', !this.data.expand)\n        this.$emit('toggle-expand', {\n          expand: this.data.expand,\n          nodeKey: this.data.nodeKey,\n        })\n      }\n    },\n    handleSelect () {\n      if (this.data.disabled) return\n      if (this.showCheckbox) {\n        this.handleCheck()\n      } else {\n        this.$emit('on-selected', this.data.nodeKey)\n      }\n    },\n    handleCheck () {\n      console.log('handle node check')\n      console.log(this.data.disabled)\n      if (this.data.disabled) return\n      const changes = {\n        checked: !this.data.checked && !this.data.indeterminate,\n        nodeKey: this.data.nodeKey,\n      }\n      console.log(changes)\n      this.$emit('on-check', changes)\n    },\n    handleClick () {\n      if (this.data[this.childrenKey]) {\n        this.handleExpand()\n      }\n    },\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n.enfi-flat-tree-item.folder {\n  cursor: pointer;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeNode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeNode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeNode.vue?vue&type=template&id=6dd3dc53&scoped=true&\"\nimport script from \"./TreeNode.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeNode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TreeNode.vue?vue&type=style&index=0&id=6dd3dc53&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6dd3dc53\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div :class=\"prefixCls\" class=\"enfi-flat-tree scroll-view\">\n    <div class=\"enfi-flat-tree-phantom\" :style=\"`height: ${phantomHeight}px`\"></div>\n    <div class=\"enfi-flat-tree-content\" ref=\"content\">\n      <ul :class=\"`${prefixCls}-children`\" class=\"enfi-flat-tree-children\">\n        <TreeNode\n          v-for=\"nodeData in visibleNodes\"\n          :data=\"nodeData.node\"\n          :key=\"nodeData.nodeKey\"\n          :node-key=\"nodeData.nodeKey\"\n          :show-checkbox=\"showCheckbox\"\n          @on-check=\"handleCheck\"\n          @on-selected=\"handleSelect\"\n          @toggle-expand=\"handleExpand\"\n        ></TreeNode>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport throttle from 'lodash.throttle'\nimport Node from './TreeNode'\n\nconst prefixCls = 'ivu-tree'\n\nexport default {\n  name: 'FlatTree',\n  components: { TreeNode: Node },\n\n  props: {\n    data: {\n      type: Array,\n      default () {\n        return []\n      },\n    },\n    showCheckbox: {\n      type: Boolean,\n      default: false,\n    },\n    // 当开启 showCheckbox 时，如果开启 checkDirectly，select 将强制转为 check 事件\n    checkDirectly: {\n      type: Boolean,\n      default: false,\n    },\n    emptyText: {\n      type: String,\n    },\n    childrenKey: {\n      type: String,\n      default: 'children',\n    },\n    render: {\n      type: Function,\n    },\n    itemHeight: {\n      type: Number,\n      default: 28,\n    },\n  },\n  data () {\n    return {\n      prefixCls: prefixCls,\n      stateTree: this.data,\n      flatState: [],\n      positionConfig: {\n        startIndex: 0,\n        endIndex: 0,\n      },\n    }\n  },\n  watch: {\n    data: {\n      deep: true,\n      handler: throttle(function () {\n        console.log(this)\n        console.log(this.data)\n        this.stateTree = this.data\n        this.flatState = this.compileFlatState()\n        this.rebuildTree()\n        this.updateVisibleData(this.$el.scrollTop)\n      }, 1000, { leading: false }),\n    },\n  },\n  computed: {\n    localeEmptyText () {\n      if (typeof this.emptyText === 'undefined') {\n        return this.t('i.tree.emptyText')\n      } else {\n        return this.emptyText\n      }\n    },\n    visibleNodes () {\n      if (!this.flatState) return []\n      const visible = this.flatState\n        .filter(node => node.node.toshow)\n        .slice(this.positionConfig.startIndex, this.positionConfig.endIndex)\n      return visible\n    },\n    phantomHeight () {\n      return this.flatState.filter(node => node.node.toshow).length * this.itemHeight\n    },\n  },\n\n  created () {\n    this.flatState = this.compileFlatState()\n    this.rebuildTree()\n  },\n\n  mounted () {\n    this.$el.addEventListener(\n      'scroll',\n      throttle(() => {\n        this.updateVisibleData(this.$el.scrollTop)\n      }, 80),\n    )\n    this.updateVisibleData()\n  },\n\n  methods: {\n    updateVisibleData (scrollTop = 0) {\n      const visibleItemCount = Math.ceil(this.$el.clientHeight / this.itemHeight)\n      const newStartIndex = Math.floor(scrollTop / this.itemHeight)\n      const newEndIndex = newStartIndex + visibleItemCount + 1\n      this.positionConfig.startIndex = newStartIndex\n      this.positionConfig.endIndex = newEndIndex\n      const contentTop = newStartIndex * this.itemHeight\n      this.$refs.content.style.transform = `translate3d(0, ${contentTop}px, 0)`\n    },\n    compileFlatState () {\n      console.log('compiling flat state')\n      // so we have always a relation parent/children of each node\n      let keyCounter = 0\n      let childrenKey = this.childrenKey\n      const flatTree = []\n      function flattenChildren (node, parent) {\n        node.nodeKey = keyCounter++\n        node.path = []\n        flatTree[node.nodeKey] = { node: node, nodeKey: node.nodeKey }\n        if (typeof parent !== 'undefined') {\n          flatTree[node.nodeKey].parent = parent.nodeKey\n          node.parent = parent.nodeKey\n          node.path = parent.path.concat([parent.nodeKey])\n          flatTree[parent.nodeKey][childrenKey].push(node.nodeKey)\n          node.toshow = parent.expand && parent.toshow\n        } else {\n          node.toshow = true\n        }\n        if (node[childrenKey]) {\n          flatTree[node.nodeKey][childrenKey] = []\n          node[childrenKey].forEach(child => flattenChildren(child, node))\n        }\n      }\n      this.stateTree.forEach(rootNode => {\n        flattenChildren(rootNode)\n      })\n      return flatTree\n    },\n    rebuildTree () {\n      // only called when `data` prop changes\n      console.log('rebuilding tree')\n      const checkedNodes = this.getCheckedNodes()\n      checkedNodes.forEach(node => {\n        this.updateTreeDown(node, { checked: true })\n        // propagate upwards\n        const parentKey = this.flatState[node.nodeKey].parent\n        if (!parentKey && parentKey !== 0) return\n        const parent = this.flatState[parentKey].node\n        const childHasCheckSetter = typeof node.checked !== 'undefined' && node.checked\n        if (childHasCheckSetter && parent.checked !== node.checked) {\n          this.updateTreeUp(node.nodeKey) // update tree upwards\n        }\n      })\n    },\n\n    getSelectedNodes () {\n      /* public API */\n      return this.flatState.filter(obj => obj.node.selected).map(obj => obj.node)\n    },\n    getCheckedNodes () {\n      /* public API */\n      return this.flatState.filter(obj => obj.node.checked).map(obj => obj.node)\n    },\n    getCheckedAndIndeterminateNodes () {\n      /* public API */\n      return this.flatState\n        .filter(obj => obj.node.checked || obj.node.indeterminate)\n        .map(obj => obj.node)\n    },\n\n    updateTreeUp (nodeKey) {\n      console.log('updating tree up')\n      const parentKey = this.flatState[nodeKey].parent\n      if (typeof parentKey === 'undefined' || this.checkStrictly) return\n\n      const node = this.flatState[nodeKey].node\n      const parent = this.flatState[parentKey].node\n      if (\n        node.checked === parent.checked &&\n        node.indeterminate === parent.indeterminate\n      ) {\n        return // no need to update upwards\n      }\n\n      if (node.checked === true) {\n        this.$set(parent, 'checked', parent[this.childrenKey].every(node => node.checked))\n        this.$set(parent, 'indeterminate', !parent.checked)\n      } else {\n        this.$set(parent, 'checked', false)\n        this.$set(\n          parent,\n          'indeterminate',\n          parent[this.childrenKey].some(node => node.checked || node.indeterminate),\n        )\n      }\n      this.updateTreeUp(parentKey)\n    },\n    updateTreeDown (node, changes = {}) {\n      if (this.checkStrictly) return\n\n      for (let key in changes) {\n        this.$set(node, key, changes[key])\n      }\n      if (node[this.childrenKey]) {\n        node[this.childrenKey].forEach(child => {\n          this.updateTreeDown(child, changes)\n        })\n      }\n    },\n    handleSelect (nodeKey) {\n      const node = this.flatState[nodeKey].node\n      if (!this.multiple) {\n        // reset previously selected node\n        const currentSelectedKey = this.flatState.findIndex(obj => obj.node.selected)\n        if (currentSelectedKey >= 0 && currentSelectedKey !== nodeKey) {\n          this.$set(this.flatState[currentSelectedKey].node, 'selected', false)\n        }\n      }\n      this.$set(node, 'selected', !node.selected)\n\n      this.$emit('on-select-change', this.getSelectedNodes(), node)\n    },\n    handleCheck ({ checked, nodeKey }) {\n      console.log('handle check')\n      const node = this.flatState[nodeKey].node\n      this.$set(node, 'checked', checked)\n      this.$set(node, 'indeterminate', false)\n\n      this.updateTreeUp(nodeKey) // propagate up\n      this.updateTreeDown(node, { checked, indeterminate: false }) // reset `indeterminate` when going down\n\n      this.$emit('on-check-change', this.getCheckedNodes(), node)\n    },\n    handleExpand ({ expand, nodeKey }) {\n      const node = this.flatState[nodeKey]\n      this.$emit('on-toggle-expand', node)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.enfi-flat-tree {\n  height: 100%;\n  overflow: auto;\n  position: relative;\n\n  .enfi-flat-tree-phantom {\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    z-index: -1;\n  }\n\n  .enfi-flat-tree-content {\n    left: 0;\n    right: 0;\n    top: 0;\n    position: absolute;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlatTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlatTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FlatTree.vue?vue&type=template&id=b51bb51e&scoped=true&\"\nimport script from \"./FlatTree.vue?vue&type=script&lang=js&\"\nexport * from \"./FlatTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FlatTree.vue?vue&type=style&index=0&id=b51bb51e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b51bb51e\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport { Tree } from 'iview'\nimport filesize from 'filesize'\nimport { Component, Prop, Watch } from 'vue-property-decorator'\nimport FlatTree from '@/components/common/FlatTree/FlatTree.vue'\nimport { FileItem } from '@/components/types'\n\nVue.component('FlatTree', FlatTree)\n\n@Component({})\nexport default class App extends Vue {\n  treeData: any[] = []\n  allChecked: boolean = false\n  indeterminate: boolean = true\n  checkedFiles: FileItem[] = []\n  checkedNodes: any[] = []\n  treeDataEmpty: boolean = false\n\n  @Prop({ default: () => [] }) fileList!: FileItem[]\n\n  @Watch('fileList')\n  onFilelistChange (val: FileItem[]) {\n    console.log('file list changed')\n    console.log(val)\n  }\n\n  get filesCount () {\n    let filesCount = 0\n    const countFiles = (fileList: FileItem[]) => {\n      fileList.forEach((file: FileItem) => {\n        if (!file.isDir) {\n          filesCount += 1\n        } else if (file.children) {\n          countFiles(file.children)\n        }\n      })\n    }\n    countFiles(this.fileList)\n    return filesCount\n  }\n\n  clearData () {\n    this.allChecked = false\n    this.treeData = []\n    this.indeterminate = true\n    this.checkedFiles = []\n    this.checkedNodes = []\n  }\n\n  genTreeData () {\n    console.log('generating file tree')\n    console.log(this.fileList)\n    const treeDataGenerator = (fileList: FileItem[]): any[] =>\n      fileList.map((fileItem: FileItem) => {\n        if (!fileItem.isDir) {\n          return {\n            title: fileItem.filename,\n            attr: fileItem,\n            checked: true,\n            render: (h: any, params: { root: any; node: any; data: any }) =>\n              h &&\n              h(\n                'span',\n                {\n                  class: 'tree-node',\n                  style: {\n                    display: 'inline-block',\n                    width: '100%',\n                  },\n                },\n                [\n                  h('span', { class: 'tree-filename', attrs: { title: params.data.title } }, [params.data.title]),\n                  h('span', { class: 'tree-filetype' }, [fileItem!.filetype]),\n                  h('span', { class: 'tree-filesize' }, [filesize(fileItem.size!)]),\n                ]\n              ),\n          }\n        }\n        return {\n          title: fileItem.filename,\n          attr: fileItem,\n          expand: true,\n          render: (h: any) =>\n            h(\n              'span',\n              {\n                class: 'tree-node',\n                style: {\n                  display: 'inline-block',\n                  width: '100%',\n                },\n              },\n              [h('span', { attrs: { title: fileItem.filename } }, [fileItem.filename])]\n            ),\n          children: treeDataGenerator(fileItem.children || []),\n        }\n      })\n    this.allChecked = true\n    this.treeData = treeDataGenerator(this.fileList)\n    console.log('file tree generated')\n    console.log(this.treeData)\n    this.treeDataEmpty = this.treeData.length === 0\n    this.$nextTick(() => {\n      this.onCheck()\n    })\n  }\n\n  handleCheckAll () {\n    if (this.treeData.length === 0) {\n      return\n    }\n\n    if (this.indeterminate) {\n      this.allChecked = false\n    } else {\n      this.allChecked = !this.allChecked\n    }\n    this.indeterminate = false\n\n    const checkAll = (data: any[], toCheck: boolean) =>\n      data.map((item: any) => {\n        if (item.attr.isDir) {\n          let children = item.children\n          if (children && children.length > 0) {\n            children = checkAll(children, toCheck)\n            return Object.assign(item, { children, checked: toCheck })\n          }\n        }\n        return Object.assign(item, { checked: toCheck })\n      })\n\n    this.treeData = checkAll(this.treeData, this.allChecked)\n    this.$nextTick(() => {\n      this.onCheck()\n    })\n  }\n\n  onCheck () {\n    console.log('tree check fired')\n    if (!this.$refs['file-tree']) {\n      return\n    }\n    // $refs['file-tree'] might not exist, add a timer\n    setTimeout(() => {\n      this.checkedNodes = (this.$refs['file-tree'] as Tree)\n        .getCheckedNodes()\n        .filter((node: any) => !node.attr.isDir)\n      this.checkedFiles = this.getCheckedFiles()\n      if (this.checkedNodes.length === this.filesCount) {\n        this.indeterminate = false\n        this.allChecked = true\n      } else if (this.checkedNodes.length > 0) {\n        this.indeterminate = true\n        this.allChecked = false\n      } else {\n        this.indeterminate = false\n        this.allChecked = false\n      }\n      this.$emit('check', this.checkedFiles)\n    }, 100)\n  }\n\n  getCheckedFiles () {\n    console.log('getting checked file tree')\n    const genCheckedFiles = (dataList: any[]): FileItem[] => {\n      const checkedFiles: FileItem[] = []\n      dataList.forEach((item: any) => {\n        if (item.children === undefined) {\n          if (item.checked) {\n            checkedFiles.push(item.attr as FileItem)\n          }\n        } else if (item.children.length > 0 && (item.indeterminate || item.checked)) {\n          const dirItem = item.attr as FileItem\n          dirItem.children = genCheckedFiles(item.children)\n          checkedFiles.push(dirItem)\n        }\n      })\n      return checkedFiles\n    }\n    return genCheckedFiles(this.treeData)\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FileSelector.vue?vue&type=template&id=a0b8f682&scoped=true&\"\nimport script from \"./FileSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./FileSelector.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FileSelector.vue?vue&type=style&index=0&id=a0b8f682&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a0b8f682\",\n  null\n  \n)\n\nexport default component.exports","import { BTFileItem } from '@/components/types'\n\nexport const btFileConverter = (files: any[]): BTFileItem[] => {\n  const fileTree: BTFileItem[] = []\n  files.forEach((file: any, fileIdx: number) => {\n    const paths = file.path.split('/')\n    let curFileList: BTFileItem[] | BTFileItem = fileTree\n    let curPath = ''\n    for (let i = 0; i < paths.length; i++) {\n      const isLastPath = i === paths.length - 1\n      const curList: BTFileItem[] | undefined = Array.isArray(curFileList) ? curFileList : (curFileList as BTFileItem).children\n      if (!curList) {\n        break\n      }\n      let node: BTFileItem | undefined = curList!.find((subFile: BTFileItem) => subFile.filename === paths[i])\n      const isDir = paths.length > 1 && !isLastPath\n      if (!node) {\n        const filename = isLastPath ? file.filename : paths[i]\n        if (curPath.length === 0) {\n          curPath += paths[i]\n        } else {\n          curPath += `/${paths[i]}`\n        }\n        node = {\n          filename: filename,\n          isDir,\n          path: curPath,\n        }\n        if (isDir) {\n          node.children = []\n        } else {\n          node.id = fileIdx + 1\n          node.filetype = file.filename.split('.').slice(-1)[0]\n          node.size = file.size\n        }\n        curList.push(node)\n      }\n      if (node && node.isDir && node.children) {\n        curFileList = node\n      }\n    }\n  })\n  return fileTree\n}\n","import axios from 'axios'\nimport { DALIPAN_TRACKER_HOST } from '@/constants/constants'\n\nconst getClientType = () => {\n  if (window.platform === 'mac' || window.platform === 'win' || /Electron/.test(navigator.userAgent)) {\n    return 'enfi_desk'\n  }\n  if (window.platform === 'android' || /enfi-cloud-android/.test(navigator.userAgent) || /Android/.test(navigator.userAgent)) {\n    return 'enfi_android'\n  }\n  return 'enfi_desk'\n}\n\nexport const reportResourceValidity = (shareUrl: string, isValid: boolean, shareCode?: string) => {\n  console.log('reporting validity to tracker')\n  const reportData: { [key: string]: string | number } = {\n    url: shareUrl,\n    valid: isValid ? 1 : 0,\n    client: getClientType(),\n  }\n  if (shareCode) {\n    reportData.pwd = shareCode\n  }\n  axios({\n    url: `${DALIPAN_TRACKER_HOST}/api/v2/report`,\n    method: 'POST',\n    headers: {\n      apitoken: 'EwVy7wuVXIE7O15JIArhENFI',\n    },\n    data: [reportData],\n  }).catch((err: any) => {\n    console.error('report resource validity failed')\n    console.error(err)\n  })\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport { Component } from 'vue-property-decorator'\nimport filesize from 'filesize'\nimport BaiduFileGetter from '@/services/BaiduFileGetter'\nimport { MAX_DL_FILES } from '@/constants/constants'\nimport * as ERR_CODES from '@/constants/errCodes'\nimport * as GA_EVENTS from '@/constants/gaEvents'\nimport * as ZHUGE_EVENTS from '@/constants/zhugeIOEvents'\nimport * as MESSAGES from '@/constants/messages'\nimport { postMessage, addMessageListener } from '@/utils/messaging'\nimport FileSelector from '@/components/FileSelector.vue'\nimport { btFileConverter } from '@/utils/torrentParser'\nimport { BaiduFileItem, FileItem } from '@/components/types'\nimport { versionCompareWithMethod } from '@/utils/versionCompare'\nimport EventHub from '@/components/EventHub'\nimport { reportResourceValidity } from '@/services/tracker'\n\nconst baiduLinkRegex = /(https?:\\/\\/(pan|yun).baidu.com\\/(s|wap|share)\\/[\\x00-\\xff]*)/\nconst baiduLinkWithCodeRegex = /(https?:\\/\\/(pan|yun)\\.baidu\\.com\\/(s|wap|share)\\/[\\x00-\\xff]*?)\\s*\\S?((提取码)|(密码))[:：]\\s?(\\w{4})/\nconst magnetRegex = /magnet:\\?xt=urn:\\S{20,}/\nconst httpLinkRegex = /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/\n\nconst calcSize = (fileList: FileItem[]): number =>\n  fileList.reduce((acc: number, cur: FileItem) => {\n    if (!cur.isDir) {\n      return acc + cur.size!\n    } else if (cur.children && cur.children.length > 0) {\n      return acc + calcSize(cur.children)\n    }\n    return acc\n  }, 0)\n\n@Component({ components: { FileSelector } })\nexport default class App extends Vue {\n  taskType: number = 0 // 0 for baidu, 1 for bt, 2 for http\n  heightWatcher: number = 0\n  inputLink: string = ''\n  shareLink: string = ''\n  gettingFiles: boolean = false\n  needExtractCode: boolean = false\n  inputExtractCode: string = ''\n  extractCode: string = ''\n  isExtractCodeCorrect: boolean = false\n  extractNeedVercode: boolean = false\n  extractVerCodeSrc: string = ''\n  extractVerCode: string = ''\n  verCodeStr: string = ''\n  errMsg: string = ''\n  showFileSelector: boolean = false\n  fileGetter: BaiduFileGetter = new BaiduFileGetter()\n  fileList: FileItem[] = []\n  checkedFiles: FileItem[] = []\n\n  parsingMagnetUri: boolean = false\n  BTParseFinished: boolean = false\n  parseMagnetTimeout: boolean = false\n  parsingHTTPUrl: boolean = false\n  HTTPParseFinished: boolean = false\n\n  clientVersion: string = window.appver\n  inputPlaceHolder: string = '输入分享链接'\n  wrongUrlHint: string = '请输入正确的分享链接'\n\n  get filesCount () {\n    let filesCount = 0\n    const countFiles = (fileList: FileItem[]) => {\n      fileList.forEach((file: FileItem) => {\n        if (!file.isDir) {\n          filesCount += 1\n        } else if (file.children) {\n          countFiles(file.children)\n        }\n      })\n    }\n    countFiles(this.fileList)\n    return filesCount\n  }\n\n  get totalFileSize (): number {\n    return calcSize(this.fileList)\n  }\n  get selectedFileSizeSum (): number {\n    return calcSize(this.checkedFiles)\n  }\n\n  get displaySumSize () {\n    if (this.isSingleFile) {\n      return filesize(this.fileList[0].size as number)\n    }\n    return filesize(this.selectedFileSizeSum)\n  }\n\n  get displayTotalSize () {\n    if (this.isSingleFile) {\n      return filesize(this.fileList[0].size as number)\n    }\n    return filesize(this.totalFileSize)\n  }\n\n  get isSingleFile () {\n    return this.fileList.length === 1 && !this.fileList[0].isDir\n  }\n\n  get checkedFilesCount () {\n    let filesCount = 0\n    const countFiles = (fileList: FileItem[]) => {\n      fileList.forEach((file: FileItem) => {\n        if (!file.isDir) {\n          filesCount += 1\n        } else if (file.children && file.children.length > 0) {\n          countFiles(file.children)\n        }\n      })\n    }\n    countFiles(this.checkedFiles)\n    return filesCount\n  }\n\n  get BTName () {\n    if (this.BTParseFinished && this.fileList.length > 0) {\n      return this.fileList[0].path.split('/')[0]\n    }\n    return ''\n  }\n\n  mounted () {\n    const setTexts = () => {\n      const verCompResult = versionCompareWithMethod('2.3.0', this.clientVersion, 'lte')\n      console.log(verCompResult)\n      if (verCompResult) {\n        this.inputPlaceHolder = '请输入分享链接、磁力链接、HTTP链接'\n        this.wrongUrlHint = '请输入正确的分享链接、磁力链接或 http 链接'\n      } else {\n        this.inputPlaceHolder = '输入分享链接'\n        this.wrongUrlHint = '请输入正确的分享链接与提取码'\n      }\n    }\n    setTexts()\n    EventHub.$on('init-data', () => {\n      console.log('client data inited!!')\n      console.log(window.appver)\n      this.clientVersion = window.appver\n      setTexts()\n    })\n\n    addMessageListener(MESSAGES.ON_SHOW, () => {\n      console.log('on-show')\n      console.log(this.gettingFiles)\n      this.fileGetter.clearData()\n    })\n    addMessageListener(MESSAGES.ON_HIDE, () => {\n      this.clearData()\n    })\n    addMessageListener(MESSAGES.DO_EXTRACT, (data?: any) => {\n      console.log('do-extract received')\n      console.log(data)\n      this.showFileSelector = false\n      if (data && data.copyText) {\n        this.inputLink = data.copyText\n      } else if (data && data.shareUrl) {\n        this.inputLink = data.shareUrl\n        if (data.shareCode.length > 0) {\n          this.inputExtractCode = data.shareCode\n          this.needExtractCode = true\n        } else {\n          this.needExtractCode = false\n          this.inputExtractCode = ''\n        }\n      }\n      this.parseLink()\n    })\n    addMessageListener(MESSAGES.SEND_MAGNET_URI_RESULT, this.onMagnetResult)\n    addMessageListener(MESSAGES.HTTP_FILE_INFO_RESULT, this.onHttpResult)\n    addMessageListener(MESSAGES.SEND_MAGNET_URI_TIMEOUT, () => {\n      this.parseMagnetTimeout = true\n    })\n\n    let lastScrollHeight = document.body.scrollHeight\n    const watch = () => {\n      clearTimeout(this.heightWatcher)\n      if (lastScrollHeight !== document.body.scrollHeight) {\n        console.log('height changed ', document.body.scrollHeight)\n        postMessage(MESSAGES.ADJUST_HEIGHT, { pageHeight: document.body.scrollHeight })\n      }\n      lastScrollHeight = document.body.scrollHeight\n      this.heightWatcher = setTimeout(() => {\n        watch()\n      }, 200)\n    }\n    this.heightWatcher = setTimeout(() => {\n      watch()\n    }, 200)\n  }\n\n  onContextMenu (e: Event) {\n    e.preventDefault()\n    postMessage(MESSAGES.RIGHT_CLICK)\n  }\n\n  hasFilename (filename: string, ext: string) {\n    // 判断单文件是否已经有文件名，没有的话会只有一个扩展名，这时需要调 parse 接口获取\n    if (ext.length > 0) {\n      return filename.split(`.${ext}`)[0].length > 0\n    }\n    return true\n  }\n\n  onLinkPasted () {\n    console.log('link pasted ', this.inputLink)\n    setTimeout(() => {\n      this.clearTaskData()\n      this.parseLink()\n    }, 200)\n  }\n\n  clearData () {\n    console.log('clearing component data')\n    this.clearTaskData()\n    this.gettingFiles = false\n    this.inputLink = ''\n    this.shareLink = ''\n    this.BTParseFinished = false\n    this.parsingMagnetUri = false\n    this.parseMagnetTimeout = false\n    this.HTTPParseFinished = false\n    this.parsingHTTPUrl = false\n  }\n\n  clearTaskData () {\n    console.log('clearing task data')\n    this.inputExtractCode = ''\n    this.needExtractCode = false\n    this.isExtractCodeCorrect = false\n    this.extractCode = ''\n    this.extractNeedVercode = false\n    this.extractVerCode = ''\n    this.verCodeStr = ''\n    this.fileList = []\n    this.checkedFiles = []\n    this.gettingFiles = false\n    this.showFileSelector = false\n    this.errMsg = ''\n\n    const fileSelector = this.$refs['file-selector'] as FileSelector\n    if (fileSelector) {\n      fileSelector.clearData()\n    }\n  }\n\n  parseLink (e?: Event) {\n    if (e) {\n      e.preventDefault()\n    }\n\n    console.log(this.inputLink)\n    if (versionCompareWithMethod('2.3.0', this.clientVersion, 'lte')) {\n      let magnetMatch = this.inputLink.match(magnetRegex)\n      if (magnetMatch) {\n        return this.handleMagnetUri()\n      }\n    }\n\n    let linkMatch = this.inputLink.match(baiduLinkWithCodeRegex)\n    const oldLink = this.shareLink\n    console.log('matching link')\n    if (linkMatch) {\n      this.$gaVisitor\n        .event(GA_EVENTS.EVENT_START_PARSING_SHARE_URL, GA_EVENTS.EVENT_TYPE_EVT)\n      window.zhuge.track(ZHUGE_EVENTS.EVENT_START_PARSING_SHARE_URL)\n      console.log(linkMatch)\n      this.shareLink = linkMatch[1].split('#')[0].trim()\n      this.extractCode = linkMatch[7].trim()\n    } else {\n      linkMatch = this.inputLink.match(baiduLinkRegex)\n      console.log(linkMatch)\n      if (linkMatch) {\n        this.$gaVisitor\n          .event(GA_EVENTS.EVENT_START_PARSING_SHARE_URL, GA_EVENTS.EVENT_TYPE_EVT)\n        window.zhuge.track(ZHUGE_EVENTS.EVENT_START_PARSING_SHARE_URL)\n        this.shareLink = linkMatch[1].split('#')[0].trim()\n        this.extractCode = ''\n      } else {\n        this.shareLink = ''\n        this.extractCode = ''\n      }\n    }\n\n    if (this.inputExtractCode.length > 0) {\n      this.extractCode = this.inputExtractCode\n    }\n    if (this.shareLink !== oldLink) {\n      this.isExtractCodeCorrect = false\n    }\n    if (this.shareLink.length === 0) {\n      if (versionCompareWithMethod('2.3.0', this.clientVersion, 'lte')) {\n        const httpLinkMatch = this.inputLink.match(httpLinkRegex)\n        if (httpLinkMatch) {\n          return this.handleHTTPUrl()\n        }\n      }\n      this.errMsg = this.wrongUrlHint\n      postMessage(MESSAGES.GET_FILES_FAILED, { error: { code: ERR_CODES.GET_LINK_URL_INVALID } })\n      return\n    }\n    this.taskType = 0\n    this.gettingFiles = true\n    postMessage(MESSAGES.START_GETTING_FILES)\n    this.errMsg = ''\n    return Promise.resolve()\n      .then(() => {\n        if (!this.fileGetter || this.fileGetter.extraUrlParams.length === 0) {\n          this.fileGetter = new BaiduFileGetter()\n          return this.fileGetter.setUrl(this.shareLink)\n        }\n        return true\n      })\n      .then(() => {\n        if (!this.isExtractCodeCorrect && this.extractCode.length > 0) {\n          return this.fileGetter.extract(\n            this.extractCode,\n            this.extractVerCode,\n            this.verCodeStr,\n          )\n        }\n        return true\n      })\n      .then(() => {\n        if (this.inputLink.length === 0) {\n          // if the input link was cleared, means that the webview modal was closed, do nothing\n          return []\n        }\n        this.isExtractCodeCorrect = true\n        this.extractNeedVercode = false\n        return this.fileGetter.getFileListFromLadder(this.extractVerCode, this.verCodeStr)\n      })\n      .then((fileList: BaiduFileItem[]): any => {\n        if (this.inputLink.length === 0) {\n          // if the input link was cleared, means that the webview modal was closed, do nothing\n          return true\n        }\n        console.log(fileList)\n        this.fileList = fileList\n        this.errMsg = ''\n        this.gettingFiles = false\n        if (fileList.length === 0) {\n          this.$gaVisitor\n            .event(\n              GA_EVENTS.EVENT_GET_FILE_EMPTY,\n              GA_EVENTS.EVENT_TYPE_EVT,\n              btoa(\n                `url=${encodeURIComponent(this.shareLink)};sharecode=${\n                  this.extractCode\n                };`\n              )\n            )\n          window.zhuge.track(ZHUGE_EVENTS.EVENT_GET_FILE_EMPTY, {\n            link: this.shareLink,\n            sharecode: this.extractCode,\n          })\n          this.clearTaskData()\n          return Promise.reject({ code: -1 })\n        } else {\n          this.$gaVisitor\n            .event(GA_EVENTS.EVENT_GET_FILE_SUCC, GA_EVENTS.EVENT_TYPE_EVT)\n          window.zhuge.track(ZHUGE_EVENTS.EVENT_GET_FILE_SUCC)\n          reportResourceValidity(this.shareLink, true, this.extractCode)\n\n          if (this.filesCount > MAX_DL_FILES) {\n            this.$gaVisitor\n              .event(\n                GA_EVENTS.EVENT_BAIDU_LINK_MASS_FILES,\n                GA_EVENTS.EVENT_TYPE_EVT,\n                btoa(\n                  `url=${encodeURIComponent(this.shareLink)};sharecode=${\n                    this.extractCode\n                  };fileCount=${this.filesCount}`\n                )\n              )\n            window.zhuge.track(ZHUGE_EVENTS.EVENT_BAIDU_LINK_MASS_FILES, {\n              link: this.shareLink,\n              sharecode: this.extractCode,\n              fileCount: this.filesCount,\n            })\n          }\n        }\n\n        postMessage(MESSAGES.FINISH_GETTING_FILES, {\n          files: this.fileList,\n          shareUrl: this.fileGetter.shareUrl,\n          shareCode: this.extractCode,\n        })\n        if (window.context === 'android') {\n          return\n        }\n        if (this.isSingleFile) {\n          this.checkedFiles = [this.fileList[0]]\n          this.showFileSelector = true\n          postMessage(MESSAGES.TREE_CHECKED, {\n            taskType: this.taskType,\n            files: this.checkedFiles,\n          })\n          return true\n        } else {\n          console.log('showing file selector')\n          this.showFileSelector = true\n          this.$nextTick(() => {\n            console.log(this.fileList)\n            const fileSelector = this.$refs['file-selector'] as FileSelector\n            console.log(fileSelector)\n            if (fileSelector) {\n              fileSelector.genTreeData()\n            }\n          })\n          return true\n        }\n      })\n      .catch((err: any) => {\n        console.error('get baidu file failed')\n        console.error(err)\n        this.gettingFiles = false\n        postMessage(MESSAGES.GET_FILES_FAILED, { error: err })\n        this.showFileSelector = false\n        if (this.extractVerCode.length > 0) {\n          this.getCaptcha()\n        }\n        switch (err.code) {\n          case ERR_CODES.GET_LINK_URL_INVALID:\n            console.log('set url failed, match surl failed')\n            this.errMsg = err.msg\n            this.$gaVisitor\n              .event(\n                GA_EVENTS.EVENT_GET_FILE_SHARE_URL_INVALID,\n                GA_EVENTS.EVENT_TYPE_EVT,\n                btoa(encodeURIComponent(this.inputLink))\n              )\n            window.zhuge.track(ZHUGE_EVENTS.EVENT_GET_FILE_SHARE_URL_INVALID, {\n              link: this.inputLink || '',\n            })\n            break\n          case ERR_CODES.INIT_NOT_COMPLETE:\n            this.errMsg = '请稍后重试'\n            postMessage(MESSAGES.GET_INIT_DATA)\n            this.$gaVisitor.event(\n              GA_EVENTS.EVENT_NO_INIT_LADDERS,\n              GA_EVENTS.EVENT_TYPE_EVT\n            )\n            window.zhuge.track(ZHUGE_EVENTS.EVENT_NO_INIT_LADDERS)\n            break\n          case ERR_CODES.GET_LINK_NO_LADDERS:\n            this.errMsg = '服务器忙，请稍后重试'\n            this.$gaVisitor.event(\n              GA_EVENTS.EVENT_NO_LADDERS_AVAILABLE,\n              GA_EVENTS.EVENT_TYPE_EVT\n            )\n            window.zhuge.track(ZHUGE_EVENTS.EVENT_NO_LADDERS_AVAILABLE)\n            break\n          case ERR_CODES.GET_LINK_NEED_EXTRACT_CODE:\n            this.errMsg = '请输入提取码'\n            this.needExtractCode = true\n            this.isExtractCodeCorrect = false\n            this.$gaVisitor\n              .event(GA_EVENTS.EVENT_GET_FILE_NEED_SHARECODE, GA_EVENTS.EVENT_TYPE_EVT)\n            window.zhuge.track(ZHUGE_EVENTS.EVENT_GET_FILE_NEED_SHARECODE)\n            break\n          case ERR_CODES.GET_LINK_EXTRACT_CODE_WRONG:\n            this.errMsg = '提取码错误'\n            this.needExtractCode = true\n            this.isExtractCodeCorrect = false\n            this.$gaVisitor\n              .event(GA_EVENTS.EVENT_GET_FILE_NEED_SHARECODE, GA_EVENTS.EVENT_TYPE_EVT)\n            window.zhuge.track(ZHUGE_EVENTS.EVENT_GET_FILE_NEED_SHARECODE)\n            if (this.extractVerCode.length === 0) {\n              this.getCaptcha()\n            }\n            break\n          case ERR_CODES.GET_LINK_EXTRACT_CAPTCHA_WRONG:\n            this.errMsg = '请输入正确的验证码'\n            this.extractNeedVercode = true\n            this.$gaVisitor\n              .event(GA_EVENTS.EVENT_GET_FILE_NEED_VERCODE, GA_EVENTS.EVENT_TYPE_EVT)\n            window.zhuge.track(ZHUGE_EVENTS.EVENT_GET_FILE_NEED_VERCODE)\n            if (this.extractVerCode.length === 0) {\n              this.getCaptcha()\n            }\n            break\n          case ERR_CODES.GET_LINK_EXTRACT_FAILED:\n            this.errMsg = '提取失败，请稍后重试'\n            this.$gaVisitor\n              .event(\n                GA_EVENTS.EVENT_GET_FILE_FAILED,\n                GA_EVENTS.EVENT_TYPE_EVT,\n                btoa(\n                  `url=${encodeURIComponent(this.shareLink)};sharecode=${\n                    this.extractCode\n                  };errno=${err.baiduErrno};errObj=${JSON.stringify(err.errObj)}`\n                )\n              )\n            window.zhuge.track(ZHUGE_EVENTS.EVENT_GET_FILE_FAILED, {\n              link: this.shareLink,\n              sharecode: this.extractCode,\n              errno: err.baiduErrno,\n              errObj: JSON.stringify(err.errObj),\n            })\n            break\n          case ERR_CODES.GET_LINK_SHARE_URL_BANNED:\n            this.errMsg = err.msg || '请检查分享链接是否有效'\n            this.$gaVisitor\n              .event(\n                GA_EVENTS.EVENT_GET_FILE_SHARE_URL_BANNED,\n                GA_EVENTS.EVENT_TYPE_EVT,\n                btoa(\n                  `url=${encodeURIComponent(this.shareLink)};sharecode=${\n                    this.extractCode\n                  };`\n                )\n              )\n            window.zhuge.track(ZHUGE_EVENTS.EVENT_GET_FILE_SHARE_URL_BANNED, {\n              link: this.shareLink,\n              sharecode: this.extractCode,\n            })\n            reportResourceValidity(this.shareLink, false)\n            break\n          case undefined:\n            this.errMsg = '提取失败，请检查网络'\n            break\n          default:\n            this.errMsg = '提取失败，请稍后重试'\n            this.$gaVisitor\n              .event(\n                GA_EVENTS.EVENT_GET_FILE_FAILED,\n                GA_EVENTS.EVENT_TYPE_EVT,\n                btoa(\n                  `url=${encodeURIComponent(this.shareLink)};sharecode=${\n                    this.extractCode\n                  };errno=${err.baiduErrno};errObj=${JSON.stringify(err)}`\n                )\n              )\n            window.zhuge.track(ZHUGE_EVENTS.EVENT_GET_FILE_FAILED, {\n              link: this.shareLink,\n              sharecode: this.extractCode,\n              errno: err.baiduErrno,\n              errObj: JSON.stringify(err.errObj),\n            })\n            break\n        }\n      })\n  }\n\n  showBtFiles (data: any) {\n    console.log('showing bt files')\n    this.fileList = btFileConverter(data)\n    postMessage(MESSAGES.FINISH_GETTING_BT_FILES)\n    if (window.context === 'android') {\n      return\n    }\n    if (this.isSingleFile) {\n      this.checkedFiles = [this.fileList[0]]\n      this.showFileSelector = true\n      postMessage(MESSAGES.TREE_CHECKED, {\n        taskType: this.taskType,\n        files: this.checkedFiles,\n      })\n      return true\n    } else {\n      console.log('showing file selector')\n      this.showFileSelector = true\n      this.$nextTick(() => {\n        console.log(this.fileList)\n        const fileSelector = this.$refs['file-selector'] as FileSelector\n        console.log(fileSelector)\n        if (fileSelector) {\n          fileSelector.genTreeData()\n        }\n      })\n      return true\n    }\n  }\n\n  onMagnetResult (data: any) {\n    console.log('magnet uri parse result')\n    this.taskType = 1\n    if (typeof data === 'string') {\n      this.errMsg = data\n    } else if (data === null) {\n      this.errMsg = this.parsingMagnetUri ? '磁力链接解析失败' : 'BT种子解析失败'\n    } else {\n      this.BTParseFinished = true\n      this.showBtFiles(data)\n    }\n    this.parsingMagnetUri = false\n  }\n\n  handleMagnetUri () {\n    console.log('parsing magnet uri')\n    console.log(this.inputLink)\n    this.taskType = 1\n    this.parsingMagnetUri = true\n    this.parseMagnetTimeout = false\n    postMessage(MESSAGES.SEND_MAGNET_URI, this.inputLink)\n  }\n\n  cancelParseMagnet () {\n    postMessage(MESSAGES.CANCEL_PARSE_MAGNET_URI, this.inputLink)\n    this.parsingMagnetUri = false\n  }\n\n  createOffline () {\n    this.$emit('create-offline', this.inputLink)\n  }\n\n  getCaptcha () {\n    if (this.fileGetter) {\n      console.log('get captcha')\n      this.fileGetter\n        .getCaptcha()\n        .then((res: any) => {\n          this.extractVerCodeSrc = res.img\n          this.verCodeStr = res.str\n          return true\n        })\n        .catch(() => {\n          this.errMsg = '获取验证码失败'\n        })\n    }\n  }\n\n  onCheck (checkedFiles: FileItem[]) {\n    console.log('tree check fired')\n    this.checkedFiles = checkedFiles\n    if (this.taskType === 0) {\n      if (this.checkedFilesCount > MAX_DL_FILES) {\n        this.errMsg = `选中文件不能超过${MAX_DL_FILES}个`\n      } else if (this.errMsg.indexOf('不能超过') > -1) {\n        this.errMsg = ''\n      }\n      postMessage(MESSAGES.TREE_CHECKED, {\n        taskType: this.taskType,\n        files: this.checkedFiles,\n        fileLimit: MAX_DL_FILES,\n        overLimit: this.checkedFilesCount > MAX_DL_FILES,\n      })\n    }\n    postMessage(MESSAGES.TREE_CHECKED, {\n      taskType: this.taskType,\n      files: this.checkedFiles,\n    })\n  }\n\n  extractVerCodeEnterHndl () {\n    if (this.fileList.length === 0) {\n      this.parseLink()\n    }\n  }\n\n  handleHTTPUrl () {\n    console.log('parsing http link')\n    console.log(this.inputLink)\n    this.taskType = 2\n    this.parsingHTTPUrl = true\n    postMessage(MESSAGES.GET_HTTP_FILE_INFO, this.inputLink)\n  }\n  onHttpResult (data: any) {\n    console.log('http url parse result')\n    this.taskType = 2\n    if (typeof data === 'string') {\n      this.errMsg = data\n    } else if (data === null) {\n      this.errMsg = '链接解析失败'\n    } else {\n      this.showHTTPFile(data)\n    }\n    this.HTTPParseFinished = true\n    this.parsingHTTPUrl = false\n  }\n  showHTTPFile (data: any) {\n    console.log(data)\n    console.log('showing http files')\n    this.fileList = [{\n      filename: data.filename || '下载文件',\n      filetype: data.filetype,\n      size: data.size,\n      isDir: false,\n      path: '',\n    }]\n    postMessage(MESSAGES.FINISH_GETTING_HTTP_FILE)\n    if (window.context === 'android') {\n      return\n    }\n    this.checkedFiles = [this.fileList[0]]\n    this.showFileSelector = true\n    postMessage(MESSAGES.TREE_CHECKED, {\n      taskType: this.taskType,\n      files: this.checkedFiles,\n    })\n    return true\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Parse.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Parse.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Parse.vue?vue&type=template&id=467e0509&scoped=true&\"\nimport script from \"./Parse.vue?vue&type=script&lang=ts&\"\nexport * from \"./Parse.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Parse.vue?vue&type=style&index=0&id=467e0509&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"467e0509\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileSelector.vue?vue&type=style&index=0&id=a0b8f682&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileSelector.vue?vue&type=style&index=0&id=a0b8f682&lang=scss&scoped=true&\"","// to post:\nexport const ADJUST_HEIGHT: string = 'adjust-height'\nexport const URL_REQUEST: string = 'url-request'\nexport const TREE_CHECKED: string = 'tree-checked'\nexport const START_GETTING_FILES: string = 'start-getting-files'\nexport const FINISH_GETTING_FILES: string = 'finish-getting-files'\nexport const GET_FILES_FAILED: string = 'get-files-failed'\nexport const START_PARSING_TORRENT: string = 'start-parsing-torrent'\nexport const PARSING_TORRENT_FAILED: string = 'parsing-torrent-failed'\nexport const PARSING_TORRENT_SUCC: string = 'parsing-torrent-succ'\nexport const REQUEST_CREATE_OFFLINE_CONFIRM: string = 'request-create-offline-confirm'\nexport const START_CREATING_OFFLINE_TASK: string = 'start-creating-offline-task'\nexport const CREATING_OFFLINE_TASK_FAILED: string = 'creating-offline-task-failed'\nexport const CREATING_OFFLINE_TASK_SUCC: string = 'creating-offline-task-succ'\nexport const GA_EVENT: string = 'ga-event'\nexport const ZHUGE_TRACK: string = 'zhuge-track'\nexport const PAGE_LOADED: string = 'page-loaded'\nexport const RIGHT_CLICK: string = 'right-click'\nexport const SEND_MAGNET_URI: string = 'send-magnet-uri'\nexport const CANCEL_PARSE_MAGNET_URI: string = 'cancel-parse-magnet-uri'\nexport const FINISH_GETTING_BT_FILES: string = 'finish-getting-bt-files'\n\nexport const GET_HTTP_FILE_INFO: string = 'get-http-file-info'\nexport const FINISH_GETTING_HTTP_FILE: string = 'finish-getting-http-file'\nexport const SWITCH_PAGE_TAB: string = 'switch-page-tab'\n\n// to receive:\nexport const URL_RESPONSE: string = 'url-response'\nexport const ON_SHOW: string = 'on-show'\nexport const ON_HIDE: string = 'on-hide'\nexport const DO_EXTRACT: string = 'do-extract'\nexport const DO_GET_LINK: string = 'do-get-link'\nexport const DO_CREATE_OFFLINE_TASK: string = 'do-create-offline-task'\nexport const CONFIRM_CREATE_OFFLINE_TASK: string = 'confirm-create-offline-task'\nexport const INIT: string = 'initialize'\nexport const GET_INIT_DATA: string = 'get-init-data'\nexport const SEND_MAGNET_URI_RESULT: string = 'send-magnet-uri-result'\nexport const SEND_MAGNET_URI_TIMEOUT: string = 'send-magnet-uri-timeout'\nexport const HTTP_FILE_INFO_RESULT: string = 'http-file-info-result'\n","interface MessageObj {\n  [key: string]: string | object\n}\n\ninterface i18nMsgObj {\n  en: MessageObj\n  zh: MessageObj\n}\n\nconst messages = {\n  en: {\n    common: {\n      ok: 'Ok',\n      cancel: 'Cancel',\n      close: 'Close',\n      exit: 'Exit',\n      delete: 'Delete',\n      nextStep: 'Next',\n      prevStep: 'Prev',\n      networkErr: 'Please check your network.',\n      serviceErr: 'Service not available.',\n      yuan: 'RMB',\n    },\n    home: {\n      ui: {\n        deposit: 'Deposit',\n        withdraw: 'Withdraw',\n        exchange: 'Exchange',\n        logout: 'Log out',\n        feedback: 'Feedback',\n        settings: 'Settings',\n        checkUpdate: 'Check update',\n        downloading: 'Downloading',\n        noDownload: 'No download tasks',\n        seeding: 'Earning money (seeding)',\n        noSeeding: 'No seeding tasks, ',\n        downloadFile: 'download a file',\n        startKlamn: 'start hang up',\n        money: 'to make more moeny!',\n        or: 'or',\n      },\n      message: {\n        logoutFailed: 'Logout failed',\n        checkUpdateFailed: 'Check update failed',\n        alreadyLatest: 'You already have the latest version',\n      },\n    },\n    account: {\n      ui: {\n        login: 'Login',\n        register: 'Register',\n        resetpwd: 'Reset password',\n        regBtn: 'Register',\n        email: 'Email',\n        captcha: 'Captcha',\n        password: 'Password',\n        newPassword: 'New password',\n        getCaptcha: 'Get captcha',\n      },\n      message: {\n        invalidEmail: 'Email invalid',\n        invalidPassword: 'Password must be between 6 and 20 characters',\n        wrongCaptcha: 'Wrong captcha',\n        noCaptcha: 'Please fill captcha',\n        wrongVerCode: 'Wrong verification code',\n        expiredVerCode: 'Verification code expired, please get a new one.',\n        wrongEmail:\n          'The email is not the same as the one requested the verification code.',\n        sendVerCodeError: 'Getting verification code failed.',\n        wrongEmailOrPwd: 'Wrong email or password',\n        loginFail: 'Login failed!',\n        regFail: 'Register failed!',\n        regSucc: 'Register succeeded',\n        loginSucc: 'Login succeeded',\n        resetPwdSucc: 'Reset password succeeded',\n        resetPwdFail: 'Reset password failed',\n        accountNotExist: 'Account does not exist',\n      },\n    },\n    createTask: {\n      ui: {\n        modalTitle: 'New download',\n        inputLink: 'download link',\n        inputExtractCode: 'extract code',\n        inputVerCode: 'verify code',\n        tryFree: 'Try free!',\n        freeForOneTenth: 'Speed up download for 10% of the file',\n        normalDownload: 'Normal download',\n        pointCost: 'Points cost: {pointsCost}',\n        pointsBalance: 'You have: {pointsBalance}',\n        noFastHint: 'download at a low speed',\n        fastDownload: 'Fast download',\n      },\n      message: {\n        wrongExtractCode: 'wrong extract code',\n        invalidLink: 'link invalid',\n        noDownloadUrl: 'Please provide Baidu Yun shared url',\n        noTargetDir: 'Please provide target directory',\n        fileExists: 'A file with the same name exists!',\n        toManyTasks: 'You can only download up to 5 files at the same time.',\n        sameUrlTaskExists: 'The same download task already exists',\n      },\n    },\n    download: {\n      ui: {\n        taskFailed: 'Download failed',\n        cancel: 'Cancel',\n        pause: 'Pause',\n        resume: 'Start',\n        boost: 'Boost',\n        retry: 'Retry',\n        retrying: 'Retrying',\n        waiting: 'Waiting',\n        pending: 'Pending',\n        paused: 'Paused',\n      },\n      message: {\n        notFound: 'Task not found',\n        default: 'Task failed',\n        unAuthed: 'Cannot start download. Please re-login or restart the application',\n        sameUrlExists: 'The same task already exists',\n        sysErr: 'System error, please try again later',\n        noBalance: 'Your points are not enough',\n        noServer: 'There are no boost nodes available，please try again later',\n        exceedsLimit: 'You have exceeded the download limit',\n        wrongUrl: 'Wrong URL，please retry',\n      },\n    },\n    taskTable: {\n      file: 'File',\n      status: 'Status',\n      size: 'Size',\n      operate: 'Operate',\n      seeding: 'Seeding',\n      earnedPoints: 'Earned points',\n      seedingHint: 'Earning money',\n      noFile: 'File lost',\n    },\n    buy: {\n      ui: {\n        title: 'Please choose a plan',\n        price: '{price} RMB',\n        points: '{points} Points',\n        currencyUnit: 'Yuan',\n        payhint: 'Please use WeChat to scan the QRCode',\n        payMethod: 'Pay method',\n        paySucc: 'Purchase succeeded',\n        wxpay: 'WxPay',\n        alipay: 'Alipay',\n      },\n      message: {\n        fail: 'Payment failed',\n      },\n    },\n    withdraw: {\n      ui: {\n        title: 'Withdraw',\n        alipayAccount: 'Alipay account:',\n        alipayPlaceholder: 'Your alipay account',\n        realname: 'Real name:',\n        realnamePlaceholder: 'Your real name',\n        withdrawAmount: 'Withdraw amount:',\n        withdrawHint: '',\n        price: '{price} RMB',\n        points: 'Points: {points}',\n        withdrawPoints: 'Withdraw points: {points}',\n        withdrawAll: 'Withdraw all',\n        withdraw: 'Withdraw',\n      },\n      message: {\n        succ: '提现请求已发送，我们将尽快处理',\n        fail: '提现失败，请稍后重试',\n        noPoints: 'Your points are not enough',\n      },\n    },\n    exchange: {\n      ui: {\n        title: 'Exchange',\n        exchange: 'Exchange now',\n      },\n    },\n    feedback: {\n      ui: {\n        title: 'Feedback',\n        feedbackHint: 'Please give your opinions to our administrator',\n      },\n    },\n    getBaiduFile: {\n      ui: {\n        download: 'Download',\n      },\n      message: {\n        linkInvalid: 'Share link invalid',\n      },\n    },\n  },\n  zh: {\n    common: {\n      ok: '确认',\n      cancel: '取消',\n      close: '关闭',\n      exit: '退出',\n      delete: '删除',\n      nextStep: '下一步',\n      prevStep: '上一步',\n      networkErr: '请检查网络',\n      serviceErr: '服务不可用',\n      yuan: '元',\n    },\n    home: {\n      ui: {\n        deposit: '充值',\n        withdraw: '提现',\n        exchange: '兑换',\n        logout: '注销',\n        feedback: '意见反馈',\n        settings: '设置',\n        checkUpdate: '检查更新',\n        goUpdate: '下载新版',\n        downloading: '正在下载',\n        noDownload: '当前没有下载任务',\n        seeding: '正在赚钱',\n        noSeeding: '暂无文件赚钱任务，',\n        downloadFile: '下载文件',\n        startKlamn: '开启挂机',\n        money: '赚钱吧！',\n        or: '或者',\n      },\n      message: {\n        logoutFailed: '注销失败',\n        checkUpdateFailed: '检查更新失败',\n        alreadyLatest: '已经是最新版本！',\n      },\n    },\n    account: {\n      ui: {\n        login: '登录',\n        register: '注册新账号',\n        resetpwd: '重设密码',\n        regBtn: '注册',\n        email: '邮箱',\n        captcha: '验证码',\n        verCode: '您邮箱接收到的验证码',\n        reGetVerCode: '重新获取',\n        password: '密码',\n        newPassword: '新密码',\n        getCaptcha: '获取验证码',\n      },\n      message: {\n        invalidEmail: '邮箱不合法',\n        invalidPassword: '密码长度需 6 - 20 个字符',\n        wrongCaptcha: '图片验证码错误',\n        noCaptcha: '请输入图片验证码',\n        wrongVerCode: '邮箱验证码错误',\n        expiredVerCode: '邮箱验证码过期，请重新获取',\n        wrongEmail: '邮箱不一致',\n        sendVerCodeError: '获取邮箱验证码失败',\n        wrongEmailOrPwd: '邮箱或密码错误',\n        loginFail: '登录失败',\n        regFail: '注册失败',\n        regSucc: '注册成功',\n        loginSucc: '登录成功',\n        userExists: '该邮箱已注册过账号',\n        resetPwdSucc: '重设密码成功',\n        resetPwdFail: '重设密码失败',\n        suspiciousAccount:\n          '系统检测到您的账号在过多设备上登录，赠送流量将不会转移至此账号',\n        accountNotExist: '账户不存在',\n      },\n    },\n    createTask: {\n      ui: {\n        modalTitle: '新建下载任务',\n        inputLink: '请输入分享链接、磁力链接、HTTP链接、或拖入BT种子文件',\n        inputExtractCode: '输入提取码',\n        inputVerCode: '输入验证码',\n        tryFree: '可免积分体验',\n        freeForOneTenth: '前10%内容极速下载',\n        normalDownload: '普通下载',\n        pointCost: '花费积分：{pointsCost}',\n        pointsBalance: '当前拥有：{pointsBalance}',\n        noFastHint: '无法享受加速下载',\n        fastDownload: '极速下载',\n      },\n      message: {\n        wrongExtractCode: '提取码错误',\n        needVerCode: '需要提取码',\n        invalidLink: '请输入正确的分享链接、磁力链接或 http 链接',\n        noDownloadUrl: '请提供分享链接',\n        noTargetDir: '请选择下载目录',\n        fileExists: '文件已存在！',\n        toManyTasks: '你最多只能同时下载5个文件.',\n        sameUrlTaskExists: '相同下载任务已存在',\n      },\n    },\n    download: {\n      ui: {\n        taskFailed: '下载失败',\n        cancel: '取消',\n        pause: '暂停',\n        resume: '开始',\n        boost: '加速',\n        retry: '重试',\n        deleteTitle: '删除任务',\n        deleteConfirm: '确定要删除任务 {taskTitle} 吗？',\n        deleteSeedingConfirm: '确定要停止正在赚钱的任务 {taskTitle} 吗？',\n        deleteFile: '删除文件',\n        retrying: '正在重试',\n        waiting: '正在开始',\n        pending: '正在排队',\n        paused: '已暂停',\n      },\n      message: {\n        notFound: '任务不存在',\n        default: '下载失败',\n        unAuthed: '无下载权限，请重新登录或重启应用',\n        sameUrlExists: '相同任务已存在',\n        sysErr: '系统错误，请稍后重试',\n        noBalance: '余额不足，请充值',\n        noServer: '无可用加速节点，请稍后重试',\n        exceedsLimit: '下载任务数已超过限制',\n        wrongUrl: '链接无效，请重新获取',\n      },\n    },\n    taskTable: {\n      file: '文件',\n      status: '状态',\n      size: '大小',\n      operate: '操作',\n      seeding: '当前上传',\n      earnedPoints: '已赚积分',\n      seedingHint: '正在赚钱',\n      noFile: '文件不存在',\n    },\n    buy: {\n      ui: {\n        title: '充值中心',\n        price: '{price} 元',\n        points: '{points} 积分',\n        currencyUnit: '元',\n        buy: '立即充值',\n        payHint: '请使用微信扫码支付',\n        payMethod: '支付方式',\n        paySucc: '支付成功',\n        wxpay: '微信支付',\n        alipay: '支付宝',\n      },\n      message: {\n        fail: '支付失败',\n      },\n    },\n    withdraw: {\n      ui: {\n        title: '提现',\n        alipayAccount: '支付宝账号：',\n        alipayPlaceholder: '您要提现的支付宝账号',\n        realname: '真实姓名：',\n        realnamePlaceholder: '您的真实姓名',\n        withdrawAmount: '提现金额：',\n        withdrawHint: '手续费5%，将在3-5个工作日内到账',\n        price: '{price}元',\n        points: '积分：{points}',\n        withdrawPoints: '提现积分：{points}',\n        withdrawAll: '全部提现',\n        withdraw: '确认提现',\n      },\n      message: {\n        succ: '提现请求已发送，我们将尽快处理',\n        fail: '提现失败，请稍后重试',\n        noPoints: '您当前的积分不够提现',\n      },\n    },\n    exchange: {\n      ui: {\n        title: '兑换中心',\n        exchange: '立即兑换',\n      },\n    },\n    feedback: {\n      ui: {\n        title: '意见反馈',\n        feedbackHint: 'QQ群号码：573283619\\n扫描上方二维码，加入QQ讨论群',\n      },\n    },\n    getBaiduFile: {\n      ui: {\n        getFile: '提取文件',\n        download: '极速下载',\n      },\n      message: {\n        linkInvalid: '分享链接无效',\n      },\n    },\n  },\n}\n\nexport default messages\n","/**\n * version compare func\n * @param ver1{String} 'x.x.x'\n * @param ver2{String} 'x.x.x'\n * @return ver1 > ver2: 1; ver1 < ver2: -1; ver1 === ver2: 0\n */\n\nconst versionCompare = (ver1: string, ver2: string) => {\n  console.log(`comparing version ${ver1}, ${ver2}`)\n  const ver1Arr = ver1.split('.').map((item: string) => parseInt(item))\n  const ver2Arr = ver2.split('.').map((item: string) => parseInt(item))\n  if (ver1Arr[0] > ver2Arr[0]) {\n    return 1\n  }\n  if (ver1Arr[0] < ver2Arr[0]) {\n    return -1\n  }\n  if (ver1Arr[1] > ver2Arr[1]) {\n    return 1\n  }\n  if (ver1Arr[1] < ver2Arr[1]) {\n    return -1\n  }\n  if (isNaN(Number(ver2Arr[2]))) {\n    return 1\n  }\n  if (ver1Arr[2] > ver2Arr[2]) {\n    return 1\n  }\n  if (ver1Arr[2] < ver2Arr[2]) {\n    return -1\n  }\n  return 0\n}\n\nexport const versionCompareWithMethod = (\n  currVer: string,\n  localVer: string,\n  method: 'gt' | 'lt' | 'gte' | 'lte' | 'e',\n) => {\n  console.log(currVer, localVer)\n  if (!currVer || !localVer) {\n    return false\n  }\n  const compareRes = versionCompare(currVer, localVer)\n  if (method === 'gt') {\n    return compareRes === 1\n  }\n  if (method === 'lt') {\n    return compareRes === -1\n  }\n  if (method === 'e') {\n    return compareRes === 0\n  }\n  if (method === 'gte') {\n    return compareRes === 1 || compareRes === 0\n  }\n  if (method === 'lte') {\n    return compareRes === -1 || compareRes === 0\n  }\n  return false\n}\n\nexport default versionCompare\n","/**\n * See the document at https://github.com/PPIO/enfi-docs\n */\nexport const EVENT_START_PARSING_SHARE_URL: string = 'start-extracting-from-shareurl'\nexport const EVENT_GET_FILE_NEED_SHARECODE: string = 'extract-need-sharecode'\nexport const EVENT_GET_FILE_NEED_VERCODE: string = 'extract-need-vercode'\nexport const EVENT_NO_LADDERS_AVAILABLE: string = 'extract-no-ladders-available'\nexport const EVENT_NO_INIT_LADDERS: string = 'no-init-ladder-list'\nexport const EVENT_GET_FILE_SHARE_URL_INVALID: string = 'extract-share-url-invalid'\nexport const EVENT_GET_FILE_NO_COOKIES: string = 'extract-no-cookie'\nexport const EVENT_GET_FILE_COOKIES_INVALID: string = 'extract-cookie-invalid'\nexport const EVENT_GET_FILE_SUCC: string = 'extract-get-filelist-success'\nexport const EVENT_GET_FILE_EMPTY: string = 'extract-get-filelist-empty'\nexport const EVENT_GET_FILE_FAILED: string = 'extract-failed'\nexport const EVENT_MATCH_URL_FAILED: string = 'match-url-failed'\nexport const EVENT_GET_FILE_SHARE_URL_BANNED: string = 'extract-share-url-banned'\nexport const EVENT_START_BATCH_DOWNLOAD: string = 'batch-download-start'\nexport const EVENT_BATCH_DOWNLOAD_GET_LINK_FAILED: string =\n  'batch-download-get-link-failed'\nexport const EVENT_BATCH_DOWNLOAD_GET_LINK_SUCC: string =\n  'batch-download-get-link-success'\nexport const EVENT_BATCH_DOWNLOAD_GET_LINK_NEED_SHARECODE: string =\n  'batch-download-get-link-need-sharecode'\nexport const EVENT_BATCH_DOWNLOAD_GET_LINK_NEED_VERCODE: string =\n  'batch-download-get-link-need-vercode'\n\nexport const EVENT_NOT_INIT_FROM_CLIENT: string = 'no-init-from-client'\nexport const EVENT_BAIDU_LINK_MASS_FILES: string = 'baidu-link-with-mass-files'\n\nexport const EVENT_OFFLINE_START_PARSE_TORRENT: string = 'offline-start-parsing-torrent'\nexport const EVENT_OFFLINE_PARSE_TORRENT_FAILED: string = 'offline-parse-torrent-failed'\nexport const EVENT_OFFLINE_PARSE_TORRENT_SUCC: string = 'offline-parse-torrent-succ'\nexport const EVENT_OFFLINE_MAGNET_INVALID: string = 'offline-magnet-invalid'\nexport const EVENT_OFFLINE_CREATE_TASK: string = 'offline-create-task'\nexport const EVENT_OFFLINE_CREATE_TASK_SUCC: string = 'offline-create-task-succ'\nexport const EVENT_OFFLINE_CREATE_TASK_FAIL: string = 'offline-create-task-failed'\n\nexport const EVENT_TYPE_EVT: string = 'event'\nexport const EVENT_TYPE_CLICK: string = 'click'\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlatTree.vue?vue&type=style&index=0&id=b51bb51e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlatTree.vue?vue&type=style&index=0&id=b51bb51e&lang=scss&scoped=true&\"","export const BAIDU_UA: string =\n  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36'\nexport const BAIDU_REFERER: string = 'https://pan.baidu.com/disk/home'\n\nexport const GA_TRACKING_ID = 'UA-128641089-7'\nexport const ENFI_HELP_PAGE = 'https://www.enfi.cloud/#/help'\n\nexport const OFFLINE_LADDER_HOST = process.env.IS_RELEASE ? 'http://offline.enfi.vip' : 'http://111.231.33.142:8085'\n// export const OFFLINE_LADDER_HOST = 'http://192.168.50.250:8085'\n\nexport const SERVER_HOST: string = process.env.IS_RELEASE ? 'https://api.enfi.vip' : 'http://111.231.33.142:3000'\n\n// export const SERVER_HOST: string = 'http://192.168.50.212:3000'\n\nexport const DALIPAN_TRACKER_HOST: string = 'http://resource.enfi.vip'\n// export const DALIPAN_TRACKER_HOST: string = 'http://192.168.0.134:8080'\n\nexport const PARSE_LADDER_HOST = process.env.IS_RELEASE ? 'http://ladder.enfi.vip:8084' : 'http://ladder-test.enfi.vip:8084'\n\nexport const DEFAULT_DOWNLOAD_SPLIT: number = 8 // 默认线程数\n\nexport const MAX_DL_FILES: number = 500 // 最大下载文件数\n","/**\n * See the document at https://github.com/PPIO/enfi-docs\n */\nexport const EVENT_START_PARSING_SHARE_URL: string = 'start-extracting-from-shareurl'\nexport const EVENT_GET_FILE_NEED_SHARECODE: string = 'extract-need-sharecode'\nexport const EVENT_GET_FILE_NEED_VERCODE: string = 'extract-need-vercode'\nexport const EVENT_NO_LADDERS_AVAILABLE: string = 'extract-no-ladders-available'\nexport const EVENT_NO_INIT_LADDERS: string = 'no-init-ladder-list'\nexport const EVENT_GET_FILE_SHARE_URL_INVALID: string = 'extract-share-url-invalid'\nexport const EVENT_GET_FILE_NO_COOKIES: string = 'extract-no-cookie'\nexport const EVENT_GET_FILE_COOKIES_INVALID: string = 'extract-cookie-invalid'\nexport const EVENT_GET_FILE_SUCC: string = 'extract-get-filelist-success'\nexport const EVENT_GET_FILE_EMPTY: string = 'extract-get-filelist-empty'\nexport const EVENT_GET_FILE_FAILED: string = 'extract-failed'\nexport const EVENT_MATCH_URL_FAILED: string = 'match-url-failed'\nexport const EVENT_GET_FILE_SHARE_URL_BANNED: string = 'extract-share-url-banned'\nexport const EVENT_START_BATCH_DOWNLOAD: string = 'batch-download-start'\nexport const EVENT_BATCH_DOWNLOAD_GET_LINK_FAILED: string =\n  'batch-download-get-link-failed'\nexport const EVENT_BATCH_DOWNLOAD_GET_LINK_SUCC: string =\n  'batch-download-get-link-success'\nexport const EVENT_BATCH_DOWNLOAD_GET_LINK_NEED_SHARECODE: string =\n  'batch-download-get-link-need-sharecode'\nexport const EVENT_BATCH_DOWNLOAD_GET_LINK_NEED_VERCODE: string =\n  'batch-download-get-link-need-vercode'\n\nexport const EVENT_NOT_INIT_FROM_CLIENT: string = 'no-init-from-client'\nexport const EVENT_BAIDU_LINK_MASS_FILES: string = 'baidu-link-with-mass-files'\n\nexport const EVENT_OFFLINE_START_PARSE_TORRENT: string = 'offline-start-parsing-torrent'\nexport const EVENT_OFFLINE_PARSE_TORRENT_FAILED: string = 'offline-parse-torrent-failed'\nexport const EVENT_OFFLINE_PARSE_TORRENT_SUCC: string = 'offline-parse-torrent-succ'\nexport const EVENT_OFFLINE_MAGNET_INVALID: string = 'offline-magnet-invalid'\nexport const EVENT_OFFLINE_CREATE_TASK: string = 'offline-create-task'\nexport const EVENT_OFFLINE_CREATE_TASK_SUCC: string = 'offline-create-task-succ'\nexport const EVENT_OFFLINE_CREATE_TASK_FAIL: string = 'offline-create-task-failed'\n\nexport const EVENT_TYPE_EVT: string = 'event'\nexport const EVENT_TYPE_CLICK: string = 'click'\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Parse.vue?vue&type=style&index=0&id=467e0509&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Parse.vue?vue&type=style&index=0&id=467e0509&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"},on:{\"dragenter\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleDragOver($event)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDragHint),expression:\"showDragHint\"}],staticClass:\"drag-hint\",on:{\"dragover\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleDragOver($event)},\"dragleave\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleDragLeave($event)},\"drop\":_vm.handleDrop}},[_vm._v(\"\\n    拖入 .torrent 文件解析种子文件\\n  \")]),(_vm.parsing || _vm.creatingOfflineTask)?_c('Spin',{staticClass:\"loading-spin\",attrs:{\"size\":\"large\",\"fix\":\"\"}},[_c('span',{staticClass:\"loading-anim\"})]):_vm._e(),(_vm.errMsg.length > 0)?_c('Alert',{staticClass:\"extract-code-wrong\",attrs:{\"type\":\"error\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.errMsg)+\"\\n  \")]):_vm._e(),_c('Input',{staticClass:\"link-input share-link-input\",attrs:{\"type\":\"textarea\",\"rows\":4,\"autosize\":{ minRows: 4,maxRows: 4 },\"placeholder\":\"请输入磁力链接或拖入种子文件\"},nativeOn:{\"contextmenu\":function($event){return _vm.onContextMenu($event)}},model:{value:(_vm.inputLink),callback:function ($$v) {_vm.inputLink=$$v},expression:\"inputLink\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport { Component } from 'vue-property-decorator'\nimport parseTorrent from 'parse-torrent'\nimport * as ERR_CODES from '@/constants/errCodes'\nimport * as GA_EVENTS from '@/constants/gaEvents'\nimport * as ZHUGE_EVENTS from '@/constants/zhugeIOEvents'\nimport * as MESSAGES from '@/constants/messages'\nimport { postMessage, addMessageListener } from '@/utils/messaging'\nimport { createOfflineTask as createOfflineTaskSvc } from '@/services/ladder'\n\nconst magnetRegex = /magnet:\\?xt=urn:\\S{20,50}/\n\n@Component({})\nexport default class App extends Vue {\n  showDragHint: boolean = false\n  heightWatcher: number = 0\n  inputLink: string = ''\n  magnetLinkToOffline: string = ''\n  parsing: boolean = false\n  creatingOfflineTask: boolean = false\n  errMsg: string = ''\n\n  mounted () {\n    addMessageListener(MESSAGES.ON_HIDE, () => {\n      this.clearData()\n    })\n    addMessageListener(MESSAGES.DO_CREATE_OFFLINE_TASK, (data?: any) => {\n      console.log('do-create-offline-task received')\n      console.log(data)\n      if (typeof data === 'string') {\n        this.createOfflineTask(data)\n      } else if (data && data.url) {\n        this.createOfflineTask(data.url, data.name)\n      } else if (data === null) {\n        this.createOfflineTask(this.inputLink)\n      } else {\n        this.errMsg = '请输入合法的磁力链接或种子文件'\n      }\n    })\n\n    let lastScrollHeight = document.body.scrollHeight\n    const watch = () => {\n      clearTimeout(this.heightWatcher)\n      if (lastScrollHeight !== document.body.scrollHeight) {\n        console.log('height changed ', document.body.scrollHeight)\n        postMessage(MESSAGES.ADJUST_HEIGHT, { pageHeight: document.body.scrollHeight })\n      }\n      lastScrollHeight = document.body.scrollHeight\n      this.heightWatcher = setTimeout(() => {\n        watch()\n      }, 200)\n    }\n    this.heightWatcher = setTimeout(() => {\n      watch()\n    }, 200)\n  }\n\n  clearData () {\n    this.showDragHint = false\n    this.inputLink = ''\n    this.magnetLinkToOffline = ''\n    this.creatingOfflineTask = false\n    this.parsing = false\n    this.errMsg = ''\n  }\n\n  onLinkPasted () {\n    console.log('link pasted ', this.inputLink)\n    setTimeout(() => {\n      this.createOfflineTask(this.inputLink)\n    }, 200)\n  }\n\n  onContextMenu (e: Event) {\n    e.preventDefault()\n    postMessage(MESSAGES.RIGHT_CLICK)\n  }\n\n  handleDragOver (e: any) {\n    e.preventDefault()\n    this.showDragHint = true\n    e.dataTransfer.dropEffect = 'copy'\n  }\n  handleDragLeave (e: any) {\n    e.preventDefault()\n    this.showDragHint = false\n  }\n  handleDrop (e: any) {\n    e.preventDefault()\n    console.log('handle drop')\n    this.showDragHint = false\n    console.log(e.dataTransfer.files[0].name)\n    if (\n      e.dataTransfer.files.length === 1 &&\n      e.dataTransfer.files[0].name.split('.').slice(-1)[0] === 'torrent'\n    ) {\n      this.$gaVisitor\n        .event(\n          GA_EVENTS.EVENT_OFFLINE_START_PARSE_TORRENT,\n          GA_EVENTS.EVENT_TYPE_EVT,\n        )\n      window.zhuge.track(ZHUGE_EVENTS.EVENT_OFFLINE_START_PARSE_TORRENT)\n\n      postMessage(MESSAGES.START_PARSING_TORRENT)\n      this.parsing = true\n      const file = e.dataTransfer.files[0]\n      console.log(file.path)\n      // const reader = new FileReader()\n      console.log(file)\n\n      parseTorrent.remote(file, (err: Error, parsedTorrent: any) => {\n        if (err) {\n          postMessage(MESSAGES.PARSING_TORRENT_FAILED)\n          this.parsing = false\n          console.error(err)\n          this.errMsg = '种子文件解析失败'\n          return\n        }\n        console.log(parsedTorrent)\n        if (parsedTorrent.infoHash) {\n          const magUri = parseTorrent.toMagnetURI({\n            infoHash: parsedTorrent.infoHash,\n          })\n          console.log(magUri)\n          postMessage(MESSAGES.PARSING_TORRENT_SUCC)\n          this.$gaVisitor\n            .event(\n              GA_EVENTS.EVENT_OFFLINE_PARSE_TORRENT_SUCC,\n              GA_EVENTS.EVENT_TYPE_EVT,\n            )\n          window.zhuge.track(ZHUGE_EVENTS.EVENT_OFFLINE_PARSE_TORRENT_SUCC)\n\n          this.parsing = false\n          this.createOfflineTask(magUri, parsedTorrent.name || file.name)\n        } else {\n          postMessage(MESSAGES.PARSING_TORRENT_FAILED)\n          this.$gaVisitor\n            .event(\n              GA_EVENTS.EVENT_OFFLINE_PARSE_TORRENT_FAILED,\n              GA_EVENTS.EVENT_TYPE_EVT,\n            )\n          window.zhuge.track(ZHUGE_EVENTS.EVENT_OFFLINE_PARSE_TORRENT_FAILED)\n          this.parsing = false\n          console.error('no infoHash')\n          this.errMsg = '种子文件解析失败'\n        }\n      })\n    } else {\n      this.errMsg = '请拖入 .torrent 种子文件'\n    }\n  }\n\n  createOfflineTask (magnetUri: string, name?: string) {\n    if (this.creatingOfflineTask) {\n      return\n    }\n    console.log('creating offline task ', magnetUri, name)\n    if (!magnetRegex.test(magnetUri)) {\n      this.$gaVisitor\n        .event(\n          GA_EVENTS.EVENT_OFFLINE_MAGNET_INVALID,\n          GA_EVENTS.EVENT_TYPE_EVT,\n          magnetUri\n        )\n      window.zhuge.track(ZHUGE_EVENTS.EVENT_OFFLINE_MAGNET_INVALID, {\n        magnetUri,\n      })\n      this.errMsg = '请输入合法的磁力链接或种子文件'\n      return\n    }\n    this.creatingOfflineTask = true\n    this.inputLink = magnetUri\n\n    const createTask = () => {\n      postMessage(MESSAGES.START_CREATING_OFFLINE_TASK)\n      this.$gaVisitor\n        .event(\n          GA_EVENTS.EVENT_OFFLINE_CREATE_TASK,\n          GA_EVENTS.EVENT_TYPE_EVT,\n        )\n      window.zhuge.track(ZHUGE_EVENTS.EVENT_OFFLINE_CREATE_TASK)\n\n      createOfflineTaskSvc({\n        magnetUri: magnetUri,\n        name: name,\n      })\n        .then((res: any) => {\n          this.errMsg = ''\n          this.creatingOfflineTask = false\n          postMessage(MESSAGES.CREATING_OFFLINE_TASK_SUCC)\n          this.$gaVisitor\n            .event(\n              GA_EVENTS.EVENT_OFFLINE_CREATE_TASK_SUCC,\n              GA_EVENTS.EVENT_TYPE_EVT,\n            )\n          window.zhuge.track(ZHUGE_EVENTS.EVENT_OFFLINE_CREATE_TASK_SUCC)\n          return true\n        })\n        .catch((err: any) => {\n          console.error('create offline task failed')\n          console.error(err)\n          this.creatingOfflineTask = false\n          postMessage(MESSAGES.CREATING_OFFLINE_TASK_FAILED, err)\n\n          this.$gaVisitor\n            .event(\n              GA_EVENTS.EVENT_OFFLINE_CREATE_TASK_FAIL,\n              GA_EVENTS.EVENT_TYPE_EVT,\n              err.code,\n            )\n          window.zhuge.track(ZHUGE_EVENTS.EVENT_OFFLINE_CREATE_TASK_FAIL, {\n            errCode: err.code,\n            errMsg: err.message,\n          })\n\n          if (\n            err.code === ERR_CODES.LADDER_SERVER_BUSY ||\n            err.code === ERR_CODES.LADDER_SERVER_ERROR\n          ) {\n            this.errMsg = '无可用服务器'\n          } else if (err.code === ERR_CODES.LADDER_OFFLINE_ALREADY_FAILED) {\n            this.errMsg = '此磁力链接无法创建离线任务'\n          } else {\n            this.errMsg = '创建离线任务失败'\n          }\n        })\n    }\n\n    postMessage(MESSAGES.REQUEST_CREATE_OFFLINE_CONFIRM)\n    addMessageListener(MESSAGES.CONFIRM_CREATE_OFFLINE_TASK, (data: any) => {\n      console.log('create offline confirmed')\n      if (data === true) {\n        createTask()\n      } else {\n        this.creatingOfflineTask = false\n      }\n    }, { once: true })\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Offline.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Offline.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Offline.vue?vue&type=template&id=80402800&scoped=true&\"\nimport script from \"./Offline.vue?vue&type=script&lang=ts&\"\nexport * from \"./Offline.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Offline.vue?vue&type=style&index=0&id=80402800&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"80402800\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAuCAYAAAB9CdqYAAAAAXNSR0IArs4c6QAAA01JREFUaAXtWktoE0EY/mY2m7SmL2KbpKatB60BBamHiqigl6JV8CIUROxFDz7w4qkerFAQW1FRbFWweCiKogcvWhBBfBw8VNRKpVRLa2trLVZbm6bNa3fc3ZiwRCXNY3fTkIFl5/HP9//f/83MJtkQSMV1o61CDIjnGLAdDOVyX6qFgPglvF5CcWXiaNOtVPGSnU8Ucn7Wy8BsyYLEm0cIrk8cO3kknp0W4zSsnHbk5KAZw+Hy9tYLWhCIh0mVZRnPKg3j0go54exoO5UGqIQgaLr23KK8MrFlxdXW44uyTZORSY1DTFJTvjQsjJDLrtvXyni7vVsLNxTC16G6htEINnG2n2V0WT5MjjKA15ZcxKnm95Dg4Qg7OFy//z4p77zI+EoXQDR3q7MDwogvsJtypdLTIevIyblkRCTopDTPonNm9XNHeJOTglL9POrtiZJsZhfOZhbLlyOo94bRxl9uiWqTV/1Qcwrql2ttPOUU1Cav+qHmFNQv19p4yimoTV71Q80pqF+utfGU9Qoa9jPaSF3DPyUbX/Di/ew0znzsxRefV7H5n60a4PnUNzS+faHuUuoZp6Ar34p6RwUebaqD3Zz3V8CJdhimYCTQloF3eDAxojSLeB61JaU4v24jinkzdtor0DU2iM0vH0bMscdZhabq9Up7b89TTPjmlbpPEKI26orhBL1CED+DfiUm+f55fg7Na2pQJBG0cOEFNv6HhGw0EwxE45/0LUA9Fh1QVQwnWG0twlabQwmpQHptsG25UyEXEkU8k/ZVqsVwgodWuiFfsaWp/zU+eWdjuxNuG05wYO5XdB9ZKAd3QTFsZgtOuzdgTDpRX01/T5iUeoLhBG+OfsTd8eFoTHkSyW7pBF0lLd0DlatTJphxjwmfKCgHjcx4bUFJlHiyFcMVtHI8bHz4/Ug+xymPiS02u8JnMBv2YLO7BvIVW+aFEC4NfYjtTrhtuILqiAUmYirgx5uZH+gY7kefZ0Y9nFSdVD25J0p/g8jKN4QghFEWDAWTSs0SmCRzo/D7+5ZArMmFKHGjpoXQLhYIhj+xJgeTkbNkTjI3Ze85HndZzZ7QHZi5WlCuMCMjXmxQouBBQOgJFJr2Te5oDH+hXOzcpWj3G/JA81BXOpuxAAAAAElFTkSuQmCC\""],"sourceRoot":""}