(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"01b1":function(e,t,n){},"0291":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var i=function(e,t){return console.log("post message ".concat(e)),"android"===window.context?window.enfiAndroid.receiveWebMessage(JSON.stringify({message:e,data:t})):"electron"===window.context?window.sendIpcMessage(e,t):void 0},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{once:!1};if("android"===window.context){if(window.androidMsgListener[e]||(window.androidMsgListener[e]=[]),n&&n.once){var i=function n(i){t(i);var a=window.androidMsgListener[e].indexOf(n);window.androidMsgListener[e].splice(a,1)};return window.androidMsgListener[e].push(i),i}return window.androidMsgListener[e].push(t),t}if("electron"===window.context)return window.addIpcListener(e,function(n){console.log("received message ".concat(e)),console.log(n),t(n)},n)}},"05e3":function(e,t,n){"use strict";var i=n("da86"),a=n.n(i);a.a},"0d32":function(e,t,n){"use strict";n.d(t,"r",function(){return i}),n.d(t,"i",function(){return a}),n.d(t,"h",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"g",function(){return u}),n.d(t,"f",function(){return h}),n.d(t,"l",function(){return f}),n.d(t,"m",function(){return g}),n.d(t,"n",function(){return p}),n.d(t,"p",function(){return k}),n.d(t,"q",function(){return m}),n.d(t,"o",function(){return w}),n.d(t,"k",function(){return v}),n.d(t,"j",function(){return b});var i=0,a=40001,r=60001,o=60003,s=60004,c=60005,l=60006,d=60007,u=60013,h=60998,f=50004,g=50005,p=50101,k=50102,m=50103,w=50104,v=50201,b=51014},1:function(e,t){},"12e9":function(e,t,n){"use strict";n("ac6a");var i=n("2b0e"),a=n("a925"),r=n("117e"),o=n("2ca9"),s=n("ea31"),c=n("c57e"),l=n("ff8e"),d=n("3116"),u=n("6066"),h=n("2d66"),f=n("d3b2"),g=n("01f8");n("dcad"),n("d5b3");i["a"].component("Button",g["a"]),i["a"].component("Icon",f["a"]),i["a"].component("Input",h["a"]),i["a"].component("Checkbox",u["a"]),i["a"].component("Tree",d["a"]),i["a"].component("Spin",l["a"]),i["a"].component("Alert",c["a"]),i["a"].component("Tabs",s["a"]),i["a"].component("TabPane",o["a"]),i["a"].prototype.$Message=r["a"];n("01b1");var p=n("0291"),k=n("8368"),m={event:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.length>1&&Object(p["b"])(k["k"],t)}};i["a"].prototype.$gaVisitor=m,window.zhuge={track:function(e,t){Object(p["b"])(k["H"],[e,t])}};var w=n("2713");i["a"].use(a["a"]),i["a"].config.productionTip=!1,i["a"].config.devtools=!1,/Electron/.test(navigator.userAgent)&&(window.context="electron"),(/enfi-cloud-android/.test(navigator.userAgent)||/Android/.test(navigator.userAgent))&&(document.body.classList.add("android"),window.context="android",window.androidMsgListener={},window.receiveAndroidMessage=function(e){console.log("android message received"),console.log(e);var t=e;try{if(!t.message||0===t.message.length)throw new Error('no "message" in msgData');var n=window.androidMsgListener[t.message];n&&n.forEach(function(e){e(t.data)})}catch(i){console.error("android message parse failed"),console.error(i)}}),Object(p["a"])(k["p"],function(e){console.log("received init message"),window.initData(e)}),window.ladderApiVer="v3",window.initData=function(e){console.log("init window data"),console.log(e),window.appver=e.appver,window.platform=e.platform,window.enfiToken=e.enfiToken,window.enfiUid=e.enfiUid,window.deviceId=e.deviceId,"v2"===e.ladderApiVer&&(window.ladderApiVer="v2"),w["a"].$emit("init-data")},Object(p["b"])(k["s"]),window.addEventListener("DOMContentLoaded",function(){Object(p["b"])(k["s"])}),window.onload=function(){Object(p["b"])(k["s"])}},"1c5e":function(e,t,n){"use strict";var i=n("8cef"),a=n.n(i);a.a},2:function(e,t){},2713:function(e,t,n){"use strict";var i=n("2b0e");t["a"]=new i["a"]},3:function(e,t){},"4dae":function(e,t,n){"use strict";n("7f7f"),n("6b54");var i=n("bc3a"),a=n.n(i),r=n("3452"),o=n.n(r),s=n("4328"),c=n.n(s),l=n("0d32"),d=n("bd5e"),u=n("8d36"),h=function(){console.log("getting offline checker"),console.log(window.appver);var e="";return e=Object(u["a"])("2.4.0",window.appver,"lte")?"".concat(d["f"],"/api/v2/offlineDl/consume"):"".concat(d["f"],"/api/offlineDl/apply"),a()({url:"".concat(e,"?plt=").concat(window.platform,"&appv=").concat(window.appver,"&ref=bdp&enfi-uid=").concat(window.enfiUid,"&enfi-token=").concat(window.enfiToken),method:"POST",headers:{Authorization:window.enfiToken},data:{deviceId:window.deviceId,quantity:1,platform:"android"===window.context?"android":"pc"}}).then(function(e){return 0===e.data.code?e.data.data.checker:(console.error("get checker failed"),console.error(e.data),Promise.reject(e.data))}).catch(function(e){return console.error("get checker failed"),console.error(e),Promise.reject(e)})};n.d(t,"b",function(){return p}),n.d(t,"a",function(){return k});var f="zTckeF$U#iMaufRo",g=function(e){var t=o.a.enc.Utf8.parse(f),n=o.a.AES.decrypt(e,t,{iv:t,mode:o.a.mode.CBC,padding:o.a.pad.Pkcs7});return JSON.parse(n.toString(o.a.enc.Utf8))},p=function(e){console.log("getting baidu files from ladder");var t="v1";return Object(u["a"])("2.3.0",window.appver,"lte")&&(t="v3","v2"===window.ladderApiVer&&(t="v1")),a()({url:"".concat(d["e"],"/").concat(t,"/list?plt=").concat(window.platform,"&appv=").concat(window.appver,"&ref=bdp&enfi-uid=").concat(e.uid,"&enfi-token=").concat(e.token),method:"POST",data:c.a.stringify({shareurl:e.shareUrl,sharecode:e.shareCode,vcode:e.verCode,vcode_str:e.verCodeStr}),withCredentials:!0}).then(function(e){if(e.data.code===l["r"]){var t=g(e.data.data);return t}return Promise.reject(e.data)}).catch(function(e){return console.error("get file list failed from ladder"),console.error(e),Promise.reject(e)})},k=function(e){return console.log("creating offline task from ladders"),console.log(e),h().then(function(t){return a()({url:"".concat(d["d"],"/v1/offline/task?plt=").concat(window.platform,"&appv=").concat(window.appver,"&ref=bdp&enfi-uid=").concat(window.enfiUid,"&enfi-token=").concat(window.enfiToken),method:"POST",data:{check:t,url:e.magnetUri,name:e.name},withCredentials:!0})}).then(function(e){return e.data.code===l["r"]||Promise.reject(e.data)}).catch(function(e){return console.error("create offline task failed from ladder"),console.error(e),Promise.reject(e)})}},"5a7d":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[e.gettingFiles?i("Spin",{staticClass:"loading-spin",attrs:{size:"large",fix:""}},[i("span",{staticClass:"loading-anim"})]):e._e(),e.parsingMagnetUri?i("Spin",{staticClass:"loading-spin",attrs:{size:"large",fix:""}},[i("span",{staticClass:"loading-anim"}),i("p",{staticClass:"parsing-magnet-hint"},[e._v("正在解析磁力链接...\n      "),i("a",{staticClass:"cancel-parse-magnet-btn",attrs:{href:"javascript:void(0)"},on:{click:e.cancelParseMagnet}},[e._v("取消")]),e._v("  \n      "),e.parseMagnetTimeout?i("a",{staticClass:"offline-magnet-btn",attrs:{href:"javascript:void(0)"},on:{click:e.createOffline}},[e._v("离线加速")]):e._e()])]):e._e(),e.parsingHTTPUrl?i("Spin",{staticClass:"loading-spin",attrs:{size:"large",fix:""}},[i("span",{staticClass:"loading-anim"})]):e._e(),e.errMsg.length>0?i("Alert",{staticClass:"extract-code-wrong",attrs:{type:"error"}},[e._v("\n    "+e._s(e.errMsg)+"\n  ")]):e._e(),e.showFileSelector?[e.BTParseFinished?i("div",{staticClass:"bt-info-container"},[i("img",{staticClass:"bt-icon",attrs:{src:n("ebee")}}),i("div",{staticClass:"bt-info"},[i("p",{staticClass:"bt-name"},[e._v(e._s(e.BTName))]),i("p",{staticClass:"bt-size"},[e._v(e._s(e.displayTotalSize))])])]):e._e(),e.HTTPParseFinished?i("div",{staticClass:"http-link-result"},[e._v("\n      "+e._s(e.inputLink)+"\n    ")]):e._e(),e.BTParseFinished||e.HTTPParseFinished?e._e():i("div",{staticClass:"baidu-link-result"},[e._v("\n      "+e._s(e.shareLink)+"\n    ")])]:[i("Input",{staticClass:"link-input share-link-input",attrs:{type:"textarea",rows:4,autosize:{minRows:4,maxRows:4},placeholder:e.inputPlaceHolder},nativeOn:{paste:function(t){return e.onLinkPasted(t)},contextmenu:function(t){return e.onContextMenu(t)}},model:{value:e.inputLink,callback:function(t){e.inputLink=t},expression:"inputLink"}}),e.needExtractCode&&!e.showFileSelector?i("div",{staticClass:"extract-code-wrapper"},[i("Input",{staticClass:"link-input",attrs:{type:"text",placeholder:e.$t("createTask.ui.inputExtractCode")},nativeOn:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.parseLink(t)}},model:{value:e.inputExtractCode,callback:function(t){e.inputExtractCode=t},expression:"inputExtractCode"}})],1):e._e(),e.extractNeedVercode?i("div",{staticClass:"extract-ver-code"},[i("Input",{staticClass:"link-input vercode-input",attrs:{type:"text",placeholder:e.$t("createTask.ui.inputVerCode")},nativeOn:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.extractVerCodeEnterHndl(t)}},model:{value:e.extractVerCode,callback:function(t){e.extractVerCode=t},expression:"extractVerCode"}}),i("img",{attrs:{src:e.extractVerCodeSrc,alt:""},on:{click:e.getCaptcha}})],1):e._e()],!e.isSingleFile&&e.showFileSelector?[i("FileSelector",{ref:"file-selector",attrs:{fileList:e.fileList},on:{check:e.onCheck}})]:e._e(),!e.BTParseFinished&&e.isSingleFile&&e.showFileSelector&&e.hasFilename(e.fileList[0].filename,e.fileList[0].filetype)?[i("div",{staticClass:"file-container"},[i("div",{staticClass:"file-icon"},[i("span",{staticClass:"file-type"},[e._v(e._s(e.fileList[0].filetype))])]),i("div",{staticClass:"file-info"},[i("p",{staticClass:"file-name"},[e._v(e._s(e.fileList[0].filename))]),i("p",{staticClass:"file-size"},[e._v(e._s(e.fileList[0].size>0?e.displaySumSize:"未知大小"))])])])]:e._e(),e.showFileSelector&&!e.isSingleFile?i("div",{staticClass:"select-hint"},[i("span",{staticClass:"selected-files"},[e._v("\n      已选中"+e._s(e.checkedFilesCount)+"个文件，共"+e._s(e.displaySumSize)+"\n    ")])]):e._e()],2)},a=[],r=(n("ac6a"),n("4917"),n("28a5"),n("d225")),o=n("b0b4"),s=n("308d"),c=n("6bb5"),l=n("4e2b"),d=n("9ab4"),u=n("2b0e"),h=n("60a3"),f=n("49d5"),g=n.n(f),p=n("4328"),k=n.n(p),m=(n("a481"),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/~！@#￥%……&"),w=String.fromCharCode,v=function(e){if(e.length<2){var t=e.charCodeAt(0);return 128>t?e:2048>t?w(192|t>>>6)+w(128|63&t):w(224|t>>>12&15)+w(128|t>>>6&63)+w(128|63&t)}t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return w(240|t>>>18&7)+w(128|t>>>12&63)+w(128|t>>>6&63)+w(128|63&t)},b=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,y=function(e){return(e+""+Math.random()).replace(b,v)},C=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),i=[m.charAt(n>>>18),m.charAt(n>>>12&63),t>=2?"=":m.charAt(n>>>6&63),t>=1?"=":m.charAt(63&n)];return i.join("")},x=function(e){return e.replace(/[\s\S]{1,3}/g,C)},T=function(){return x(y((new Date).getTime()))},O=function(e,t){return t?T(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):T(String(e))},F=function(e){return O(e)},L=n("0d32"),j=n("4dae"),S=n("7618"),D=n("3452"),P=n.n(D),E=n("da81"),A=n.n(E),U=n("8368"),M=n("0291"),H=n("bd5e"),V={defaultOptons:{method:"GET",headers:{"User-Agent":H["a"],Host:"pan.baidu.com",Connection:"keep-alive",Origin:"https://pan.baidu.com","X-Requested-With":"XMLHttpRequest"}},setDefaults:function(e){var t=function e(t,n){for(var i in n)n.hasOwnProperty(i)&&("object"===Object(S["a"])(n[i])?(t[i]||(t[i]={}),e(t[i],n[i])):t[i]=n[i])};t(this.defaultOptons,e)},req:function(e){var t=this;return console.log("requesting baidu url"),console.log(e),new Promise(function(n,i){var a=P.a.lib.WordArray.random(16);Object(M["b"])("".concat(U["F"],"-").concat(a),A()({},t.defaultOptons,e));var r=function(e){return console.log("iframe url-response message received"),console.log(e),0===e.code?n(e):i(e)};Object(M["a"])("".concat(U["G"],"-").concat(a),r,{once:!0})})}},_=function(){function e(){Object(r["a"])(this,e),this.isFromLadder=!0,this.shareUrl="",this.shareCode="",this.surl="",this.extraUrlParams="",this.BAIDUID="",this.BDCLND="",this.fileList=[],this.yunData={}}return Object(o["a"])(e,[{key:"clearData",value:function(){this.isFromLadder=!0,this.shareUrl="",this.shareCode="",this.surl="",this.fileList=[],this.BDCLND=""}},{key:"setUrl",value:function(t){var n=this,i="",a=t.match(/s\/1(.*?)(\/|$|&)/);return a?i=a[1]:(a=t.match(/(wap|share)\/.*?surl=1?(.*?)(&|$)/),a&&(i=a[2])),console.log("surlmatch:"),console.log(a,i),this.clearData(),Promise.resolve().then(function(){return i?(n.shareUrl="https://pan.baidu.com/s/1".concat(i),n.shareCode="",n.surl=i,console.log(n.surl),V.setDefaults({headers:{Referer:t}}),e.getUrlParams()):Promise.reject({code:L["h"],msg:"分享链接不合法"})}).catch(function(e){return console.error("file getter init failed"),console.error(e),Promise.reject(e)})}},{key:"getFileListFromLadder",value:function(e,t){var n=this;return Object(j["b"])({shareUrl:this.shareUrl,shareCode:this.shareCode,verCode:e,verCodeStr:t,uid:window.enfiUid,token:window.enfiToken}).then(function(e){if(console.log("get file list succ"),0===e.errno){var t=function e(t){return t.map(function(t){return{id:t.fs_id,filename:t.server_filename,filetype:t.isdir?"":t.server_filename.split(".").pop(),size:t.size||0,isDir:!!t.isdir,isDelete:t.isdelete||"",status:t.status||"",category:t.category||"",deteteId:t.delete_fs_id||"",path:t.path,md5:t.md5,children:Array.isArray(t.enfi_children)?e(t.enfi_children):t.enfi_children}})};return n.fileList=t(e.list),n.fileList}return Promise.reject({code:L["c"],baiduErrno:e.errno,msg:"提取失败，请稍后重试"})}).catch(function(e){return e?e.code===L["l"]||e.code===L["m"]||e.code===L["n"]?(console.log("ladder is unavailable"),Promise.reject({code:L["f"]})):e.code===L["o"]?Promise.reject({code:L["g"],msg:"请检查分享链接是否有效"}):e.code===L["p"]?Promise.reject({code:L["e"],msg:"提取码错误"}):e.code===L["q"]?Promise.reject({code:L["a"],msg:"验证码错误"}):e.code===L["k"]?Promise.reject({code:L["c"],msg:"提取失败，请稍后重试"}):Promise.reject(e):Promise.reject(e)})}},{key:"extract",value:function(e,t,n){return console.log("extracting file"),this.shareCode=e,V.req({url:"https://pan.baidu.com/share/verify?surl=".concat(this.surl,"&t=").concat(Date.now(),"&").concat(this.extraUrlParams,"&bdstoken=").concat(this.yunData.bdstoken||"null","&logid=").concat(F(this.BAIDUID),"=&clienttype=0"),method:"POST",responseType:"json",data:k.a.stringify({pwd:e,vcode:t,vcode_str:n})}).then(function(e){return console.log(JSON.stringify(e.data)),console.log(e.data.errno),-9===e.data.errno?Promise.reject({code:L["b"],msg:"提取码错误"}):-62===e.data.errno?Promise.reject({code:L["a"],msg:"验证码错误"}):0===e.data.errno||105===e.data.errno||Promise.reject({code:L["c"],msg:"提取失败，请稍后重试",errObj:e.data})}).catch(function(e){return console.error("extract file failed"),console.error(e),Promise.reject(e)})}},{key:"getCaptcha",value:function(){return V.req({url:"https://pan.baidu.com/api/getcaptcha?prod=shareverify&web=1&t=".concat(Math.random(),"&").concat(this.extraUrlParams,"&bdstoken=null&logid=").concat(F(this.BAIDUID),"&clienttype=0"),method:"GET"}).then(function(e){return 0===e.data.errno?{img:e.data.vcode_img,str:e.data.vcode_str}:Promise.reject({code:L["d"],msg:"获取验证码失败",errObj:e.data})}).catch(function(e){return console.error("get extract captcha failed"),console.error(e),Promise.reject(e)})}},{key:"getDownloadCaptcha",value:function(){return console.log("getting download captcha"),V.req({url:"https://pan.baidu.com/api/getvcode?prod=pan&t=".concat(Math.random(),"&").concat(this.extraUrlParams,"&bdstoken=").concat(this.yunData.bdstoken,"&logid=").concat(F(this.BAIDUID),"&clienttype=0"),method:"GET"}).then(function(e){return 0===e.data.errno?{img:e.data.img,str:e.data.vcode}:Promise.reject({code:L["d"],msg:"获取验证码失败",errObj:e.data})}).catch(function(e){return console.error("get download link captcha failed"),console.error(e),Promise.reject(e)})}}],[{key:"getUrlParams",value:function(){return V.req({url:"https://pan.baidu.com/sns/box-static/disk-share/js/boot.js?t=".concat(Date.now()),method:"GET",headers:{Accept:"*/*"}}).then(function(e){var t=/ajaxSend\([\s\S]*?"[&|?](channel=.*?app_id=\d*)"/,n=e.data.match(t);return null!==n?n[1]:Promise.resolve("channel=chunlei&web=1&app_id=250528")}).catch(function(e){return console.error("get url params failed"),console.error(e),Promise.resolve("channel=chunlei&web=1&app_id=250528")})}}]),e}(),z=_,$=n("bd96"),N=n("b80f"),I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-selector-wrapper"},[n("div",{staticClass:"selector-header"},[n("span",{staticClass:"header-filename"},[n("Checkbox",{staticClass:"check-all",attrs:{indeterminate:e.indeterminate,value:e.allChecked},nativeOn:{click:function(t){return t.preventDefault(),e.handleCheckAll(t)}}}),e._v("\n      文件名称\n    ")],1),n("span",{staticClass:"header-filetype"},[e._v("类型")]),n("span",{staticClass:"header-filesize"},[e._v("大小")])]),e.treeData.length>0?n("div",{staticClass:"file-tree-wrapper scroll-view"},[e.filesCount>100?n("FlatTree",{ref:"file-tree",staticClass:"file-tree",attrs:{data:e.treeData,itemHeight:26,"show-checkbox":"",multiple:""},on:{"on-check-change":e.onCheck}}):n("Tree",{ref:"file-tree",staticClass:"file-tree",attrs:{data:e.treeData,"show-checkbox":"",multiple:""},on:{"on-check-change":e.onCheck}})],1):e._e(),e.treeDataEmpty?n("div",{staticClass:"empty-tree-hint"},[e._v("提取分享链接内容失败！")]):e._e()])},B=[],K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"enfi-flat-tree scroll-view",class:e.prefixCls},[n("div",{staticClass:"enfi-flat-tree-phantom",style:"height: "+e.phantomHeight+"px"}),n("div",{ref:"content",staticClass:"enfi-flat-tree-content"},[n("ul",{staticClass:"enfi-flat-tree-children",class:e.prefixCls+"-children"},e._l(e.visibleNodes,function(t){return n("TreeNode",{key:t.nodeKey,attrs:{data:t.node,"node-key":t.nodeKey,"show-checkbox":e.showCheckbox},on:{"on-check":e.handleCheck,"on-selected":e.handleSelect,"toggle-expand":e.handleExpand}})}),1)])])},R=[],W=(n("20d6"),n("c5f6"),n("84a2")),G=n.n(W),q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.data.toshow?n("li",{staticClass:"enfi-flat-tree-item",class:e.data[e.childrenKey]?"folder":"",style:e.getItemStyle,on:{click:e.handleClick}},[n("span",{class:e.arrowClasses,on:{click:function(t){return t.stopPropagation(),e.handleExpand(t)}}},[e.showArrow?n("Icon",{attrs:{type:"ios-arrow-forward"}}):e._e(),e.showLoading?n("Icon",{staticClass:"ivu-load-loop",attrs:{type:"ios-loading"}}):e._e()],1),e.showCheckbox?n("Checkbox",{attrs:{value:e.data.checked,indeterminate:e.data.indeterminate,disabled:e.data.disabled||e.data.disableCheckbox},nativeOn:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.handleCheck(t)}}}):e._e(),e.data.render?n("Render",{attrs:{render:e.data.render,data:e.data,node:e.node}}):n("span",{class:e.titleClasses,on:{click:e.handleSelect}},[e._v(e._s(e.data.title))])],1):e._e()},J=[],Q=(n("7514"),n("bd86")),Y={name:"RenderCell",functional:!0,props:{render:Function,data:Object,node:Array},render:function(e,t){var n={root:t.props.node[0],node:t.props.node[1],data:t.props.data};return t.props.render(e,n)}},Z="ivu-tree",X={name:"FlatTreeNode",components:{Render:Y},props:{data:{type:Object,default:function(){return{}}},childrenKey:{type:String,default:"children"},nodeKey:{type:Number},showCheckbox:{type:Boolean,default:!1}},data:function(){return{prefixCls:Z}},computed:{selectedCls:function(){return[Object(Q["a"])({},"".concat(Z,"-node-selected"),this.data.selected)]},arrowClasses:function(){var e;return["".concat(Z,"-arrow"),(e={},Object(Q["a"])(e,"".concat(Z,"-arrow-disabled"),this.data.disabled),Object(Q["a"])(e,"".concat(Z,"-arrow-open"),this.data.expand),e)]},titleClasses:function(){return["".concat(Z,"-title"),Object(Q["a"])({},"".concat(Z,"-title-selected"),this.data.selected)]},showArrow:function(){return this.data[this.childrenKey]&&this.data[this.childrenKey].length||"loading"in this.data&&!this.data.loading},showLoading:function(){return"loading"in this.data&&this.data.loading},node:function(){var e=this;return[this.$parent.flatState,this.$parent.flatState.find(function(t){return t.nodeKey===e.data.nodeKey})]},getItemStyle:function(){return this.data.path&&this.data.path.length>0?"padding-left: ".concat(18*this.data.path.length,"px"):""}},methods:{handleExpand:function(){var e=this.data;e.disabled||e[this.childrenKey]&&e[this.childrenKey].length&&(this.$set(this.data,"expand",!this.data.expand),this.$emit("toggle-expand",{expand:this.data.expand,nodeKey:this.data.nodeKey}))},handleSelect:function(){this.data.disabled||(this.showCheckbox?this.handleCheck():this.$emit("on-selected",this.data.nodeKey))},handleCheck:function(){if(console.log("handle node check"),console.log(this.data.disabled),!this.data.disabled){var e={checked:!this.data.checked&&!this.data.indeterminate,nodeKey:this.data.nodeKey};console.log(e),this.$emit("on-check",e)}},handleClick:function(){this.data[this.childrenKey]&&this.handleExpand()}}},ee=X,te=(n("05e3"),n("2877")),ne=Object(te["a"])(ee,q,J,!1,null,"6dd3dc53",null),ie=ne.exports,ae="ivu-tree",re={name:"FlatTree",components:{TreeNode:ie},props:{data:{type:Array,default:function(){return[]}},showCheckbox:{type:Boolean,default:!1},checkDirectly:{type:Boolean,default:!1},emptyText:{type:String},childrenKey:{type:String,default:"children"},render:{type:Function},itemHeight:{type:Number,default:28}},data:function(){return{prefixCls:ae,stateTree:this.data,flatState:[],positionConfig:{startIndex:0,endIndex:0}}},watch:{data:{deep:!0,handler:G()(function(){console.log(this),console.log(this.data),this.stateTree=this.data,this.flatState=this.compileFlatState(),this.rebuildTree(),this.updateVisibleData(this.$el.scrollTop)},1e3,{leading:!1})}},computed:{localeEmptyText:function(){return"undefined"===typeof this.emptyText?this.t("i.tree.emptyText"):this.emptyText},visibleNodes:function(){if(!this.flatState)return[];var e=this.flatState.filter(function(e){return e.node.toshow}).slice(this.positionConfig.startIndex,this.positionConfig.endIndex);return e},phantomHeight:function(){return this.flatState.filter(function(e){return e.node.toshow}).length*this.itemHeight}},created:function(){this.flatState=this.compileFlatState(),this.rebuildTree()},mounted:function(){var e=this;this.$el.addEventListener("scroll",G()(function(){e.updateVisibleData(e.$el.scrollTop)},80)),this.updateVisibleData()},methods:{updateVisibleData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Math.ceil(this.$el.clientHeight/this.itemHeight),n=Math.floor(e/this.itemHeight),i=n+t+1;this.positionConfig.startIndex=n,this.positionConfig.endIndex=i;var a=n*this.itemHeight;this.$refs.content.style.transform="translate3d(0, ".concat(a,"px, 0)")},compileFlatState:function(){console.log("compiling flat state");var e=0,t=this.childrenKey,n=[];function i(a,r){a.nodeKey=e++,a.path=[],n[a.nodeKey]={node:a,nodeKey:a.nodeKey},"undefined"!==typeof r?(n[a.nodeKey].parent=r.nodeKey,a.parent=r.nodeKey,a.path=r.path.concat([r.nodeKey]),n[r.nodeKey][t].push(a.nodeKey),a.toshow=r.expand&&r.toshow):a.toshow=!0,a[t]&&(n[a.nodeKey][t]=[],a[t].forEach(function(e){return i(e,a)}))}return this.stateTree.forEach(function(e){i(e)}),n},rebuildTree:function(){var e=this;console.log("rebuilding tree");var t=this.getCheckedNodes();t.forEach(function(t){e.updateTreeDown(t,{checked:!0});var n=e.flatState[t.nodeKey].parent;if(n||0===n){var i=e.flatState[n].node,a="undefined"!==typeof t.checked&&t.checked;a&&i.checked!==t.checked&&e.updateTreeUp(t.nodeKey)}})},getSelectedNodes:function(){return this.flatState.filter(function(e){return e.node.selected}).map(function(e){return e.node})},getCheckedNodes:function(){return this.flatState.filter(function(e){return e.node.checked}).map(function(e){return e.node})},getCheckedAndIndeterminateNodes:function(){return this.flatState.filter(function(e){return e.node.checked||e.node.indeterminate}).map(function(e){return e.node})},updateTreeUp:function(e){console.log("updating tree up");var t=this.flatState[e].parent;if("undefined"!==typeof t&&!this.checkStrictly){var n=this.flatState[e].node,i=this.flatState[t].node;n.checked===i.checked&&n.indeterminate===i.indeterminate||(!0===n.checked?(this.$set(i,"checked",i[this.childrenKey].every(function(e){return e.checked})),this.$set(i,"indeterminate",!i.checked)):(this.$set(i,"checked",!1),this.$set(i,"indeterminate",i[this.childrenKey].some(function(e){return e.checked||e.indeterminate}))),this.updateTreeUp(t))}},updateTreeDown:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.checkStrictly){for(var i in n)this.$set(e,i,n[i]);e[this.childrenKey]&&e[this.childrenKey].forEach(function(e){t.updateTreeDown(e,n)})}},handleSelect:function(e){var t=this.flatState[e].node;if(!this.multiple){var n=this.flatState.findIndex(function(e){return e.node.selected});n>=0&&n!==e&&this.$set(this.flatState[n].node,"selected",!1)}this.$set(t,"selected",!t.selected),this.$emit("on-select-change",this.getSelectedNodes(),t)},handleCheck:function(e){var t=e.checked,n=e.nodeKey;console.log("handle check");var i=this.flatState[n].node;this.$set(i,"checked",t),this.$set(i,"indeterminate",!1),this.updateTreeUp(n),this.updateTreeDown(i,{checked:t,indeterminate:!1}),this.$emit("on-check-change",this.getCheckedNodes(),i)},handleExpand:function(e){e.expand;var t=e.nodeKey,n=this.flatState[t];this.$emit("on-toggle-expand",n)}}},oe=re,se=(n("bc17"),Object(te["a"])(oe,K,R,!1,null,"b51bb51e",null)),ce=se.exports;u["a"].component("FlatTree",ce);var le=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.treeData=[],e.allChecked=!1,e.indeterminate=!0,e.checkedFiles=[],e.checkedNodes=[],e.treeDataEmpty=!1,e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"onFilelistChange",value:function(e){console.log("file list changed"),console.log(e)}},{key:"clearData",value:function(){this.allChecked=!1,this.treeData=[],this.indeterminate=!0,this.checkedFiles=[],this.checkedNodes=[]}},{key:"genTreeData",value:function(){var e=this;console.log("generating file tree"),console.log(this.fileList);var t=function e(t){return t.map(function(t){return t.isDir?{title:t.filename,attr:t,expand:!0,render:function(e){return e("span",{class:"tree-node",style:{display:"inline-block",width:"100%"}},[e("span",{attrs:{title:t.filename}},[t.filename])])},children:e(t.children||[])}:{title:t.filename,attr:t,checked:!0,render:function(e,n){return e&&e("span",{class:"tree-node",style:{display:"inline-block",width:"100%"}},[e("span",{class:"tree-filename",attrs:{title:n.data.title}},[n.data.title]),e("span",{class:"tree-filetype"},[t.filetype]),e("span",{class:"tree-filesize"},[g()(t.size)])])}}})};this.allChecked=!0,this.treeData=t(this.fileList),console.log("file tree generated"),console.log(this.treeData),this.treeDataEmpty=0===this.treeData.length,this.$nextTick(function(){e.onCheck()})}},{key:"handleCheckAll",value:function(){var e=this;if(0!==this.treeData.length){this.indeterminate?this.allChecked=!1:this.allChecked=!this.allChecked,this.indeterminate=!1;var t=function e(t,n){return t.map(function(t){if(t.attr.isDir){var i=t.children;if(i&&i.length>0)return i=e(i,n),Object.assign(t,{children:i,checked:n})}return Object.assign(t,{checked:n})})};this.treeData=t(this.treeData,this.allChecked),this.$nextTick(function(){e.onCheck()})}}},{key:"onCheck",value:function(){var e=this;console.log("tree check fired"),this.$refs["file-tree"]&&setTimeout(function(){e.checkedNodes=e.$refs["file-tree"].getCheckedNodes().filter(function(e){return!e.attr.isDir}),e.checkedFiles=e.getCheckedFiles(),e.checkedNodes.length===e.filesCount?(e.indeterminate=!1,e.allChecked=!0):e.checkedNodes.length>0?(e.indeterminate=!0,e.allChecked=!1):(e.indeterminate=!1,e.allChecked=!1),e.$emit("check",e.checkedFiles)},100)}},{key:"getCheckedFiles",value:function(){console.log("getting checked file tree");var e=function e(t){var n=[];return t.forEach(function(t){if(void 0===t.children)t.checked&&n.push(t.attr);else if(t.children.length>0&&(t.indeterminate||t.checked)){var i=t.attr;i.children=e(t.children),n.push(i)}}),n};return e(this.treeData)}},{key:"filesCount",get:function(){var e=0,t=function t(n){n.forEach(function(n){n.isDir?n.children&&t(n.children):e+=1})};return t(this.fileList),e}}]),t}(u["a"]);d["a"]([Object(h["b"])({default:function(){return[]}})],le.prototype,"fileList",void 0),d["a"]([Object(h["c"])("fileList")],le.prototype,"onFilelistChange",null),le=d["a"]([Object(h["a"])({})],le);var de=le,ue=de,he=(n("775e"),Object(te["a"])(ue,I,B,!1,null,"a0b8f682",null)),fe=he.exports,ge=function(e){var t=[];return e.forEach(function(e,n){for(var i=e.path.split("/"),a=t,r="",o=function(t){var o=t===i.length-1,s=Array.isArray(a)?a:a.children;if(!s)return"break";var c=s.find(function(e){return e.filename===i[t]}),l=i.length>1&&!o;if(!c){var d=o?e.filename:i[t];0===r.length?r+=i[t]:r+="/".concat(i[t]),c={filename:d,isDir:l,path:r},l?c.children=[]:(c.id=n+1,c.filetype=e.filename.split(".").slice(-1)[0],c.size=e.size),s.push(c)}c&&c.isDir&&c.children&&(a=c)},s=0;s<i.length;s++){var c=o(s);if("break"===c)break}}),t},pe=n("8d36"),ke=n("2713"),me=n("bc3a"),we=n.n(me),ve=function(){return"mac"===window.platform||"win"===window.platform||/Electron/.test(navigator.userAgent)?"enfi_desk":"android"===window.platform||/enfi-cloud-android/.test(navigator.userAgent)||/Android/.test(navigator.userAgent)?"enfi_android":"enfi_desk"},be=function(e,t,n){console.log("reporting validity to tracker");var i={url:e,valid:t?1:0,client:ve()};n&&(i.pwd=n),we()({url:"".concat(H["b"],"/api/v2/report"),method:"POST",headers:{apitoken:"EwVy7wuVXIE7O15JIArhENFI"},data:[i]}).catch(function(e){console.error("report resource validity failed"),console.error(e)})},ye=/(https?:\/\/(pan|yun).baidu.com\/(s|wap|share)\/[\x00-\xff]*)/,Ce=/(https?:\/\/(pan|yun)\.baidu\.com\/(s|wap|share)\/[\x00-\xff]*?)\s*\S?((提取码)|(密码))[:：]\s?(\w{4})/,xe=/magnet:\?xt=urn:\S{20,}/,Te=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&\/\/=]*)/,Oe=function e(t){return t.reduce(function(t,n){return n.isDir?n.children&&n.children.length>0?t+e(n.children):t:t+n.size},0)},Fe=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.taskType=0,e.heightWatcher=0,e.inputLink="",e.shareLink="",e.gettingFiles=!1,e.needExtractCode=!1,e.inputExtractCode="",e.extractCode="",e.isExtractCodeCorrect=!1,e.extractNeedVercode=!1,e.extractVerCodeSrc="",e.extractVerCode="",e.verCodeStr="",e.errMsg="",e.showFileSelector=!1,e.fileGetter=new z,e.fileList=[],e.checkedFiles=[],e.parsingMagnetUri=!1,e.BTParseFinished=!1,e.parseMagnetTimeout=!1,e.parsingHTTPUrl=!1,e.HTTPParseFinished=!1,e.clientVersion=window.appver,e.inputPlaceHolder="输入分享链接",e.wrongUrlHint="请输入正确的分享链接",e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"mounted",value:function(){var e=this,t=function(){var t=Object(pe["a"])("2.3.0",e.clientVersion,"lte");console.log(t),t?(e.inputPlaceHolder="请输入分享链接、磁力链接、HTTP链接",e.wrongUrlHint="请输入正确的分享链接、磁力链接或 http 链接"):(e.inputPlaceHolder="输入分享链接",e.wrongUrlHint="请输入正确的分享链接与提取码")};t(),ke["a"].$on("init-data",function(){console.log("client data inited!!"),console.log(window.appver),e.clientVersion=window.appver,t()}),Object(M["a"])(U["r"],function(){console.log("on-show"),console.log(e.gettingFiles),e.fileGetter.clearData()}),Object(M["a"])(U["q"],function(){e.clearData()}),Object(M["a"])(U["g"],function(t){console.log("do-extract received"),console.log(t),e.showFileSelector=!1,t&&t.copyText?e.inputLink=t.copyText:t&&t.shareUrl&&(e.inputLink=t.shareUrl,t.shareCode.length>0?(e.inputExtractCode=t.shareCode,e.needExtractCode=!0):(e.needExtractCode=!1,e.inputExtractCode="")),e.parseLink()}),Object(M["a"])(U["y"],this.onMagnetResult),Object(M["a"])(U["o"],this.onHttpResult),Object(M["a"])(U["z"],function(){e.parseMagnetTimeout=!0});var n=document.body.scrollHeight,i=function t(){clearTimeout(e.heightWatcher),n!==document.body.scrollHeight&&(console.log("height changed ",document.body.scrollHeight),Object(M["b"])(U["a"],{pageHeight:document.body.scrollHeight})),n=document.body.scrollHeight,e.heightWatcher=setTimeout(function(){t()},200)};this.heightWatcher=setTimeout(function(){i()},200)}},{key:"onContextMenu",value:function(e){e.preventDefault(),Object(M["b"])(U["w"])}},{key:"hasFilename",value:function(e,t){return!(t.length>0)||e.split(".".concat(t))[0].length>0}},{key:"onLinkPasted",value:function(){var e=this;console.log("link pasted ",this.inputLink),setTimeout(function(){e.clearTaskData(),e.parseLink()},200)}},{key:"clearData",value:function(){console.log("clearing component data"),this.clearTaskData(),this.gettingFiles=!1,this.inputLink="",this.shareLink="",this.BTParseFinished=!1,this.parsingMagnetUri=!1,this.parseMagnetTimeout=!1,this.HTTPParseFinished=!1,this.parsingHTTPUrl=!1}},{key:"clearTaskData",value:function(){console.log("clearing task data"),this.inputExtractCode="",this.needExtractCode=!1,this.isExtractCodeCorrect=!1,this.extractCode="",this.extractNeedVercode=!1,this.extractVerCode="",this.verCodeStr="",this.fileList=[],this.checkedFiles=[],this.gettingFiles=!1,this.showFileSelector=!1,this.errMsg="";var e=this.$refs["file-selector"];e&&e.clearData()}},{key:"parseLink",value:function(e){var t=this;if(e&&e.preventDefault(),console.log(this.inputLink),Object(pe["a"])("2.3.0",this.clientVersion,"lte")){var n=this.inputLink.match(xe);if(n)return this.handleMagnetUri()}var i=this.inputLink.match(Ce),a=this.shareLink;if(console.log("matching link"),i?(this.$gaVisitor.event($["s"],$["t"]),window.zhuge.track(N["s"]),console.log(i),this.shareLink=i[1].split("#")[0].trim(),this.extractCode=i[7].trim()):(i=this.inputLink.match(ye),console.log(i),i?(this.$gaVisitor.event($["s"],$["t"]),window.zhuge.track(N["s"]),this.shareLink=i[1].split("#")[0].trim(),this.extractCode=""):(this.shareLink="",this.extractCode="")),this.inputExtractCode.length>0&&(this.extractCode=this.inputExtractCode),this.shareLink!==a&&(this.isExtractCodeCorrect=!1),0===this.shareLink.length){if(Object(pe["a"])("2.3.0",this.clientVersion,"lte")){var r=this.inputLink.match(Te);if(r)return this.handleHTTPUrl()}return this.errMsg=this.wrongUrlHint,void Object(M["b"])(U["l"],{error:{code:L["h"]}})}return this.taskType=0,this.gettingFiles=!0,Object(M["b"])(U["B"]),this.errMsg="",Promise.resolve().then(function(){return!(!t.fileGetter||0===t.fileGetter.extraUrlParams.length)||(t.fileGetter=new z,t.fileGetter.setUrl(t.shareLink))}).then(function(){return!(!t.isExtractCodeCorrect&&t.extractCode.length>0)||t.fileGetter.extract(t.extractCode,t.extractVerCode,t.verCodeStr)}).then(function(){return 0===t.inputLink.length?[]:(t.isExtractCodeCorrect=!0,t.extractNeedVercode=!1,t.fileGetter.getFileListFromLadder(t.extractVerCode,t.verCodeStr))}).then(function(e){return 0===t.inputLink.length||(console.log(e),t.fileList=e,t.errMsg="",t.gettingFiles=!1,0===e.length?(t.$gaVisitor.event($["b"],$["t"],btoa("url=".concat(encodeURIComponent(t.shareLink),";sharecode=").concat(t.extractCode,";"))),window.zhuge.track(N["b"],{link:t.shareLink,sharecode:t.extractCode}),t.clearTaskData(),Promise.reject({code:-1})):(t.$gaVisitor.event($["h"],$["t"]),window.zhuge.track(N["h"]),be(t.shareLink,!0,t.extractCode),t.filesCount>H["c"]&&(t.$gaVisitor.event($["a"],$["t"],btoa("url=".concat(encodeURIComponent(t.shareLink),";sharecode=").concat(t.extractCode,";fileCount=").concat(t.filesCount))),window.zhuge.track(N["a"],{link:t.shareLink,sharecode:t.extractCode,fileCount:t.filesCount})),Object(M["b"])(U["i"],{files:t.fileList,shareUrl:t.fileGetter.shareUrl,shareCode:t.extractCode}),"android"!==window.context?t.isSingleFile?(t.checkedFiles=[t.fileList[0]],t.showFileSelector=!0,Object(M["b"])(U["E"],{taskType:t.taskType,files:t.checkedFiles}),!0):(console.log("showing file selector"),t.showFileSelector=!0,t.$nextTick(function(){console.log(t.fileList);var e=t.$refs["file-selector"];console.log(e),e&&e.genTreeData()}),!0):void 0))}).catch(function(e){switch(console.error("get baidu file failed"),console.error(e),t.gettingFiles=!1,Object(M["b"])(U["l"],{error:e}),t.showFileSelector=!1,t.extractVerCode.length>0&&t.getCaptcha(),e.code){case L["h"]:console.log("set url failed, match surl failed"),t.errMsg=e.msg,t.$gaVisitor.event($["g"],$["t"],btoa(encodeURIComponent(t.inputLink))),window.zhuge.track(N["g"],{link:t.inputLink||""});break;case L["i"]:t.errMsg="请稍后重试",Object(M["b"])(U["n"]),t.$gaVisitor.event($["j"],$["t"]),window.zhuge.track(N["j"]);break;case L["f"]:t.errMsg="服务器忙，请稍后重试",t.$gaVisitor.event($["k"],$["t"]),window.zhuge.track(N["k"]);break;case L["e"]:t.errMsg="请输入提取码",t.needExtractCode=!0,t.isExtractCodeCorrect=!1,t.$gaVisitor.event($["d"],$["t"]),window.zhuge.track(N["d"]);break;case L["b"]:t.errMsg="提取码错误",t.needExtractCode=!0,t.isExtractCodeCorrect=!1,t.$gaVisitor.event($["d"],$["t"]),window.zhuge.track(N["d"]),0===t.extractVerCode.length&&t.getCaptcha();break;case L["a"]:t.errMsg="请输入正确的验证码",t.extractNeedVercode=!0,t.$gaVisitor.event($["e"],$["t"]),window.zhuge.track(N["e"]),0===t.extractVerCode.length&&t.getCaptcha();break;case L["c"]:t.errMsg="提取失败，请稍后重试",t.$gaVisitor.event($["c"],$["t"],btoa("url=".concat(encodeURIComponent(t.shareLink),";sharecode=").concat(t.extractCode,";errno=").concat(e.baiduErrno,";errObj=").concat(JSON.stringify(e.errObj)))),window.zhuge.track(N["c"],{link:t.shareLink,sharecode:t.extractCode,errno:e.baiduErrno,errObj:JSON.stringify(e.errObj)});break;case L["g"]:t.errMsg=e.msg||"请检查分享链接是否有效",t.$gaVisitor.event($["f"],$["t"],btoa("url=".concat(encodeURIComponent(t.shareLink),";sharecode=").concat(t.extractCode,";"))),window.zhuge.track(N["f"],{link:t.shareLink,sharecode:t.extractCode}),be(t.shareLink,!1);break;case void 0:t.errMsg="提取失败，请检查网络";break;default:t.errMsg="提取失败，请稍后重试",t.$gaVisitor.event($["c"],$["t"],btoa("url=".concat(encodeURIComponent(t.shareLink),";sharecode=").concat(t.extractCode,";errno=").concat(e.baiduErrno,";errObj=").concat(JSON.stringify(e)))),window.zhuge.track(N["c"],{link:t.shareLink,sharecode:t.extractCode,errno:e.baiduErrno,errObj:JSON.stringify(e.errObj)});break}})}},{key:"showBtFiles",value:function(e){var t=this;if(console.log("showing bt files"),this.fileList=ge(e),Object(M["b"])(U["h"]),"android"!==window.context)return this.isSingleFile?(this.checkedFiles=[this.fileList[0]],this.showFileSelector=!0,Object(M["b"])(U["E"],{taskType:this.taskType,files:this.checkedFiles}),!0):(console.log("showing file selector"),this.showFileSelector=!0,this.$nextTick(function(){console.log(t.fileList);var e=t.$refs["file-selector"];console.log(e),e&&e.genTreeData()}),!0)}},{key:"onMagnetResult",value:function(e){console.log("magnet uri parse result"),this.taskType=1,"string"===typeof e?this.errMsg=e:null===e?this.errMsg=this.parsingMagnetUri?"磁力链接解析失败":"BT种子解析失败":(this.BTParseFinished=!0,this.showBtFiles(e)),this.parsingMagnetUri=!1}},{key:"handleMagnetUri",value:function(){console.log("parsing magnet uri"),console.log(this.inputLink),this.taskType=1,this.parsingMagnetUri=!0,this.parseMagnetTimeout=!1,Object(M["b"])(U["x"],this.inputLink)}},{key:"cancelParseMagnet",value:function(){Object(M["b"])(U["b"],this.inputLink),this.parsingMagnetUri=!1}},{key:"createOffline",value:function(){this.$emit("create-offline",this.inputLink)}},{key:"getCaptcha",value:function(){var e=this;this.fileGetter&&(console.log("get captcha"),this.fileGetter.getCaptcha().then(function(t){return e.extractVerCodeSrc=t.img,e.verCodeStr=t.str,!0}).catch(function(){e.errMsg="获取验证码失败"}))}},{key:"onCheck",value:function(e){console.log("tree check fired"),this.checkedFiles=e,0===this.taskType&&(this.checkedFilesCount>H["c"]?this.errMsg="选中文件不能超过".concat(H["c"],"个"):this.errMsg.indexOf("不能超过")>-1&&(this.errMsg=""),Object(M["b"])(U["E"],{taskType:this.taskType,files:this.checkedFiles,fileLimit:H["c"],overLimit:this.checkedFilesCount>H["c"]})),Object(M["b"])(U["E"],{taskType:this.taskType,files:this.checkedFiles})}},{key:"extractVerCodeEnterHndl",value:function(){0===this.fileList.length&&this.parseLink()}},{key:"handleHTTPUrl",value:function(){console.log("parsing http link"),console.log(this.inputLink),this.taskType=2,this.parsingHTTPUrl=!0,Object(M["b"])(U["m"],this.inputLink)}},{key:"onHttpResult",value:function(e){console.log("http url parse result"),this.taskType=2,"string"===typeof e?this.errMsg=e:null===e?this.errMsg="链接解析失败":this.showHTTPFile(e),this.HTTPParseFinished=!0,this.parsingHTTPUrl=!1}},{key:"showHTTPFile",value:function(e){if(console.log(e),console.log("showing http files"),this.fileList=[{filename:e.filename||"下载文件",filetype:e.filetype,size:e.size,isDir:!1,path:""}],Object(M["b"])(U["j"]),"android"!==window.context)return this.checkedFiles=[this.fileList[0]],this.showFileSelector=!0,Object(M["b"])(U["E"],{taskType:this.taskType,files:this.checkedFiles}),!0}},{key:"filesCount",get:function(){var e=0,t=function t(n){n.forEach(function(n){n.isDir?n.children&&t(n.children):e+=1})};return t(this.fileList),e}},{key:"totalFileSize",get:function(){return Oe(this.fileList)}},{key:"selectedFileSizeSum",get:function(){return Oe(this.checkedFiles)}},{key:"displaySumSize",get:function(){return this.isSingleFile?g()(this.fileList[0].size):g()(this.selectedFileSizeSum)}},{key:"displayTotalSize",get:function(){return this.isSingleFile?g()(this.fileList[0].size):g()(this.totalFileSize)}},{key:"isSingleFile",get:function(){return 1===this.fileList.length&&!this.fileList[0].isDir}},{key:"checkedFilesCount",get:function(){var e=0,t=function t(n){n.forEach(function(n){n.isDir?n.children&&n.children.length>0&&t(n.children):e+=1})};return t(this.checkedFiles),e}},{key:"BTName",get:function(){return this.BTParseFinished&&this.fileList.length>0?this.fileList[0].path.split("/")[0]:""}}]),t}(u["a"]);Fe=d["a"]([Object(h["a"])({components:{FileSelector:fe}})],Fe);var Le=Fe,je=Le,Se=(n("dfea"),Object(te["a"])(je,i,a,!1,null,"467e0509",null));t["a"]=Se.exports},"775e":function(e,t,n){"use strict";var i=n("f70e"),a=n.n(i);a.a},8368:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"F",function(){return a}),n.d(t,"E",function(){return r}),n.d(t,"B",function(){return o}),n.d(t,"i",function(){return s}),n.d(t,"l",function(){return c}),n.d(t,"C",function(){return l}),n.d(t,"t",function(){return d}),n.d(t,"u",function(){return u}),n.d(t,"v",function(){return h}),n.d(t,"A",function(){return f}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return p}),n.d(t,"k",function(){return k}),n.d(t,"H",function(){return m}),n.d(t,"s",function(){return w}),n.d(t,"w",function(){return v}),n.d(t,"x",function(){return b}),n.d(t,"b",function(){return y}),n.d(t,"h",function(){return C}),n.d(t,"m",function(){return x}),n.d(t,"j",function(){return T}),n.d(t,"D",function(){return O}),n.d(t,"G",function(){return F}),n.d(t,"r",function(){return L}),n.d(t,"q",function(){return j}),n.d(t,"g",function(){return S}),n.d(t,"f",function(){return D}),n.d(t,"c",function(){return P}),n.d(t,"p",function(){return E}),n.d(t,"n",function(){return A}),n.d(t,"y",function(){return U}),n.d(t,"z",function(){return M}),n.d(t,"o",function(){return H});var i="adjust-height",a="url-request",r="tree-checked",o="start-getting-files",s="finish-getting-files",c="get-files-failed",l="start-parsing-torrent",d="parsing-torrent-failed",u="parsing-torrent-succ",h="request-create-offline-confirm",f="start-creating-offline-task",g="creating-offline-task-failed",p="creating-offline-task-succ",k="ga-event",m="zhuge-track",w="page-loaded",v="right-click",b="send-magnet-uri",y="cancel-parse-magnet-uri",C="finish-getting-bt-files",x="get-http-file-info",T="finish-getting-http-file",O="switch-page-tab",F="url-response",L="on-show",j="on-hide",S="do-extract",D="do-create-offline-task",P="confirm-create-offline-task",E="initialize",A="get-init-data",U="send-magnet-uri-result",M="send-magnet-uri-timeout",H="http-file-info-result"},"88c3":function(e,t,n){"use strict";var i={en:{common:{ok:"Ok",cancel:"Cancel",close:"Close",exit:"Exit",delete:"Delete",nextStep:"Next",prevStep:"Prev",networkErr:"Please check your network.",serviceErr:"Service not available.",yuan:"RMB"},home:{ui:{deposit:"Deposit",withdraw:"Withdraw",exchange:"Exchange",logout:"Log out",feedback:"Feedback",settings:"Settings",checkUpdate:"Check update",downloading:"Downloading",noDownload:"No download tasks",seeding:"Earning money (seeding)",noSeeding:"No seeding tasks, ",downloadFile:"download a file",startKlamn:"start hang up",money:"to make more moeny!",or:"or"},message:{logoutFailed:"Logout failed",checkUpdateFailed:"Check update failed",alreadyLatest:"You already have the latest version"}},account:{ui:{login:"Login",register:"Register",resetpwd:"Reset password",regBtn:"Register",email:"Email",captcha:"Captcha",password:"Password",newPassword:"New password",getCaptcha:"Get captcha"},message:{invalidEmail:"Email invalid",invalidPassword:"Password must be between 6 and 20 characters",wrongCaptcha:"Wrong captcha",noCaptcha:"Please fill captcha",wrongVerCode:"Wrong verification code",expiredVerCode:"Verification code expired, please get a new one.",wrongEmail:"The email is not the same as the one requested the verification code.",sendVerCodeError:"Getting verification code failed.",wrongEmailOrPwd:"Wrong email or password",loginFail:"Login failed!",regFail:"Register failed!",regSucc:"Register succeeded",loginSucc:"Login succeeded",resetPwdSucc:"Reset password succeeded",resetPwdFail:"Reset password failed",accountNotExist:"Account does not exist"}},createTask:{ui:{modalTitle:"New download",inputLink:"download link",inputExtractCode:"extract code",inputVerCode:"verify code",tryFree:"Try free!",freeForOneTenth:"Speed up download for 10% of the file",normalDownload:"Normal download",pointCost:"Points cost: {pointsCost}",pointsBalance:"You have: {pointsBalance}",noFastHint:"download at a low speed",fastDownload:"Fast download"},message:{wrongExtractCode:"wrong extract code",invalidLink:"link invalid",noDownloadUrl:"Please provide Baidu Yun shared url",noTargetDir:"Please provide target directory",fileExists:"A file with the same name exists!",toManyTasks:"You can only download up to 5 files at the same time.",sameUrlTaskExists:"The same download task already exists"}},download:{ui:{taskFailed:"Download failed",cancel:"Cancel",pause:"Pause",resume:"Start",boost:"Boost",retry:"Retry",retrying:"Retrying",waiting:"Waiting",pending:"Pending",paused:"Paused"},message:{notFound:"Task not found",default:"Task failed",unAuthed:"Cannot start download. Please re-login or restart the application",sameUrlExists:"The same task already exists",sysErr:"System error, please try again later",noBalance:"Your points are not enough",noServer:"There are no boost nodes available，please try again later",exceedsLimit:"You have exceeded the download limit",wrongUrl:"Wrong URL，please retry"}},taskTable:{file:"File",status:"Status",size:"Size",operate:"Operate",seeding:"Seeding",earnedPoints:"Earned points",seedingHint:"Earning money",noFile:"File lost"},buy:{ui:{title:"Please choose a plan",price:"{price} RMB",points:"{points} Points",currencyUnit:"Yuan",payhint:"Please use WeChat to scan the QRCode",payMethod:"Pay method",paySucc:"Purchase succeeded",wxpay:"WxPay",alipay:"Alipay"},message:{fail:"Payment failed"}},withdraw:{ui:{title:"Withdraw",alipayAccount:"Alipay account:",alipayPlaceholder:"Your alipay account",realname:"Real name:",realnamePlaceholder:"Your real name",withdrawAmount:"Withdraw amount:",withdrawHint:"",price:"{price} RMB",points:"Points: {points}",withdrawPoints:"Withdraw points: {points}",withdrawAll:"Withdraw all",withdraw:"Withdraw"},message:{succ:"提现请求已发送，我们将尽快处理",fail:"提现失败，请稍后重试",noPoints:"Your points are not enough"}},exchange:{ui:{title:"Exchange",exchange:"Exchange now"}},feedback:{ui:{title:"Feedback",feedbackHint:"Please give your opinions to our administrator"}},getBaiduFile:{ui:{download:"Download"},message:{linkInvalid:"Share link invalid"}}},zh:{common:{ok:"确认",cancel:"取消",close:"关闭",exit:"退出",delete:"删除",nextStep:"下一步",prevStep:"上一步",networkErr:"请检查网络",serviceErr:"服务不可用",yuan:"元"},home:{ui:{deposit:"充值",withdraw:"提现",exchange:"兑换",logout:"注销",feedback:"意见反馈",settings:"设置",checkUpdate:"检查更新",goUpdate:"下载新版",downloading:"正在下载",noDownload:"当前没有下载任务",seeding:"正在赚钱",noSeeding:"暂无文件赚钱任务，",downloadFile:"下载文件",startKlamn:"开启挂机",money:"赚钱吧！",or:"或者"},message:{logoutFailed:"注销失败",checkUpdateFailed:"检查更新失败",alreadyLatest:"已经是最新版本！"}},account:{ui:{login:"登录",register:"注册新账号",resetpwd:"重设密码",regBtn:"注册",email:"邮箱",captcha:"验证码",verCode:"您邮箱接收到的验证码",reGetVerCode:"重新获取",password:"密码",newPassword:"新密码",getCaptcha:"获取验证码"},message:{invalidEmail:"邮箱不合法",invalidPassword:"密码长度需 6 - 20 个字符",wrongCaptcha:"图片验证码错误",noCaptcha:"请输入图片验证码",wrongVerCode:"邮箱验证码错误",expiredVerCode:"邮箱验证码过期，请重新获取",wrongEmail:"邮箱不一致",sendVerCodeError:"获取邮箱验证码失败",wrongEmailOrPwd:"邮箱或密码错误",loginFail:"登录失败",regFail:"注册失败",regSucc:"注册成功",loginSucc:"登录成功",userExists:"该邮箱已注册过账号",resetPwdSucc:"重设密码成功",resetPwdFail:"重设密码失败",suspiciousAccount:"系统检测到您的账号在过多设备上登录，赠送流量将不会转移至此账号",accountNotExist:"账户不存在"}},createTask:{ui:{modalTitle:"新建下载任务",inputLink:"请输入分享链接、磁力链接、HTTP链接、或拖入BT种子文件",inputExtractCode:"输入提取码",inputVerCode:"输入验证码",tryFree:"可免积分体验",freeForOneTenth:"前10%内容极速下载",normalDownload:"普通下载",pointCost:"花费积分：{pointsCost}",pointsBalance:"当前拥有：{pointsBalance}",noFastHint:"无法享受加速下载",fastDownload:"极速下载"},message:{wrongExtractCode:"提取码错误",needVerCode:"需要提取码",invalidLink:"请输入正确的分享链接、磁力链接或 http 链接",noDownloadUrl:"请提供分享链接",noTargetDir:"请选择下载目录",fileExists:"文件已存在！",toManyTasks:"你最多只能同时下载5个文件.",sameUrlTaskExists:"相同下载任务已存在"}},download:{ui:{taskFailed:"下载失败",cancel:"取消",pause:"暂停",resume:"开始",boost:"加速",retry:"重试",deleteTitle:"删除任务",deleteConfirm:"确定要删除任务 {taskTitle} 吗？",deleteSeedingConfirm:"确定要停止正在赚钱的任务 {taskTitle} 吗？",deleteFile:"删除文件",retrying:"正在重试",waiting:"正在开始",pending:"正在排队",paused:"已暂停"},message:{notFound:"任务不存在",default:"下载失败",unAuthed:"无下载权限，请重新登录或重启应用",sameUrlExists:"相同任务已存在",sysErr:"系统错误，请稍后重试",noBalance:"余额不足，请充值",noServer:"无可用加速节点，请稍后重试",exceedsLimit:"下载任务数已超过限制",wrongUrl:"链接无效，请重新获取"}},taskTable:{file:"文件",status:"状态",size:"大小",operate:"操作",seeding:"当前上传",earnedPoints:"已赚积分",seedingHint:"正在赚钱",noFile:"文件不存在"},buy:{ui:{title:"充值中心",price:"{price} 元",points:"{points} 积分",currencyUnit:"元",buy:"立即充值",payHint:"请使用微信扫码支付",payMethod:"支付方式",paySucc:"支付成功",wxpay:"微信支付",alipay:"支付宝"},message:{fail:"支付失败"}},withdraw:{ui:{title:"提现",alipayAccount:"支付宝账号：",alipayPlaceholder:"您要提现的支付宝账号",realname:"真实姓名：",realnamePlaceholder:"您的真实姓名",withdrawAmount:"提现金额：",withdrawHint:"手续费5%，将在3-5个工作日内到账",price:"{price}元",points:"积分：{points}",withdrawPoints:"提现积分：{points}",withdrawAll:"全部提现",withdraw:"确认提现"},message:{succ:"提现请求已发送，我们将尽快处理",fail:"提现失败，请稍后重试",noPoints:"您当前的积分不够提现"}},exchange:{ui:{title:"兑换中心",exchange:"立即兑换"}},feedback:{ui:{title:"意见反馈",feedbackHint:"QQ群号码：573283619\n扫描上方二维码，加入QQ讨论群"}},getBaiduFile:{ui:{getFile:"提取文件",download:"极速下载"},message:{linkInvalid:"分享链接无效"}}}};t["a"]=i},"8cef":function(e,t,n){},"8d36":function(e,t,n){"use strict";n.d(t,"a",function(){return a});n("c5f6"),n("28a5");var i=function(e,t){console.log("comparing version ".concat(e,", ").concat(t));var n=e.split(".").map(function(e){return parseInt(e)}),i=t.split(".").map(function(e){return parseInt(e)});return n[0]>i[0]?1:n[0]<i[0]?-1:n[1]>i[1]?1:n[1]<i[1]?-1:isNaN(Number(i[2]))?1:n[2]>i[2]?1:n[2]<i[2]?-1:0},a=function(e,t,n){if(console.log(e,t),!e||!t)return!1;var a=i(e,t);return"gt"===n?1===a:"lt"===n?-1===a:"e"===n?0===a:"gte"===n?1===a||0===a:"lte"===n&&(-1===a||0===a)}},b6fd:function(e,t,n){},b80f:function(e,t,n){"use strict";n.d(t,"s",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return r}),n.d(t,"k",function(){return o}),n.d(t,"j",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return u}),n.d(t,"f",function(){return h}),n.d(t,"i",function(){return f}),n.d(t,"a",function(){return g}),n.d(t,"r",function(){return p}),n.d(t,"p",function(){return k}),n.d(t,"q",function(){return m}),n.d(t,"o",function(){return w}),n.d(t,"l",function(){return v}),n.d(t,"n",function(){return b}),n.d(t,"m",function(){return y});var i="start-extracting-from-shareurl",a="extract-need-sharecode",r="extract-need-vercode",o="extract-no-ladders-available",s="no-init-ladder-list",c="extract-share-url-invalid",l="extract-get-filelist-success",d="extract-get-filelist-empty",u="extract-failed",h="extract-share-url-banned",f="no-init-from-client",g="baidu-link-with-mass-files",p="offline-start-parsing-torrent",k="offline-parse-torrent-failed",m="offline-parse-torrent-succ",w="offline-magnet-invalid",v="offline-create-task",b="offline-create-task-succ",y="offline-create-task-failed"},b9c3:function(e,t,n){},bc17:function(e,t,n){"use strict";var i=n("b9c3"),a=n.n(i);a.a},bd5e:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"f",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return c});var i="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36",a="http://offline.enfi.vip",r="https://api.enfi.vip",o="http://resource.enfi.vip",s="http://ladder.enfi.vip:8084",c=500},bd96:function(e,t,n){"use strict";n.d(t,"s",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return r}),n.d(t,"k",function(){return o}),n.d(t,"j",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return u}),n.d(t,"f",function(){return h}),n.d(t,"i",function(){return f}),n.d(t,"a",function(){return g}),n.d(t,"r",function(){return p}),n.d(t,"p",function(){return k}),n.d(t,"q",function(){return m}),n.d(t,"o",function(){return w}),n.d(t,"l",function(){return v}),n.d(t,"n",function(){return b}),n.d(t,"m",function(){return y}),n.d(t,"t",function(){return C});var i="start-extracting-from-shareurl",a="extract-need-sharecode",r="extract-need-vercode",o="extract-no-ladders-available",s="no-init-ladder-list",c="extract-share-url-invalid",l="extract-get-filelist-success",d="extract-get-filelist-empty",u="extract-failed",h="extract-share-url-banned",f="no-init-from-client",g="baidu-link-with-mass-files",p="offline-start-parsing-torrent",k="offline-parse-torrent-failed",m="offline-parse-torrent-succ",w="offline-magnet-invalid",v="offline-create-task",b="offline-create-task-succ",y="offline-create-task-failed",C="event"},d5b3:function(e,t,n){},da86:function(e,t,n){},dfea:function(e,t,n){"use strict";var i=n("b6fd"),a=n.n(i);a.a},e307:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"},on:{dragenter:function(t){return t.stopPropagation(),t.preventDefault(),e.handleDragOver(t)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showDragHint,expression:"showDragHint"}],staticClass:"drag-hint",on:{dragover:function(t){return t.stopPropagation(),t.preventDefault(),e.handleDragOver(t)},dragleave:function(t){return t.stopPropagation(),t.preventDefault(),e.handleDragLeave(t)},drop:e.handleDrop}},[e._v("\n    拖入 .torrent 文件解析种子文件\n  ")]),e.parsing||e.creatingOfflineTask?n("Spin",{staticClass:"loading-spin",attrs:{size:"large",fix:""}},[n("span",{staticClass:"loading-anim"})]):e._e(),e.errMsg.length>0?n("Alert",{staticClass:"extract-code-wrong",attrs:{type:"error"}},[e._v("\n    "+e._s(e.errMsg)+"\n  ")]):e._e(),n("Input",{staticClass:"link-input share-link-input",attrs:{type:"textarea",rows:4,autosize:{minRows:4,maxRows:4},placeholder:"请输入磁力链接或拖入种子文件"},nativeOn:{contextmenu:function(t){return e.onContextMenu(t)}},model:{value:e.inputLink,callback:function(t){e.inputLink=t},expression:"inputLink"}})],1)},a=[],r=(n("28a5"),n("7f7f"),n("d225")),o=n("b0b4"),s=n("308d"),c=n("6bb5"),l=n("4e2b"),d=n("9ab4"),u=n("2b0e"),h=n("60a3"),f=n("b944"),g=n.n(f),p=n("0d32"),k=n("bd96"),m=n("b80f"),w=n("8368"),v=n("0291"),b=n("4dae"),y=/magnet:\?xt=urn:\S{20,50}/,C=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.showDragHint=!1,e.heightWatcher=0,e.inputLink="",e.magnetLinkToOffline="",e.parsing=!1,e.creatingOfflineTask=!1,e.errMsg="",e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"mounted",value:function(){var e=this;Object(v["a"])(w["q"],function(){e.clearData()}),Object(v["a"])(w["f"],function(t){console.log("do-create-offline-task received"),console.log(t),"string"===typeof t?e.createOfflineTask(t):t&&t.url?e.createOfflineTask(t.url,t.name):null===t?e.createOfflineTask(e.inputLink):e.errMsg="请输入合法的磁力链接或种子文件"});var t=document.body.scrollHeight,n=function n(){clearTimeout(e.heightWatcher),t!==document.body.scrollHeight&&(console.log("height changed ",document.body.scrollHeight),Object(v["b"])(w["a"],{pageHeight:document.body.scrollHeight})),t=document.body.scrollHeight,e.heightWatcher=setTimeout(function(){n()},200)};this.heightWatcher=setTimeout(function(){n()},200)}},{key:"clearData",value:function(){this.showDragHint=!1,this.inputLink="",this.magnetLinkToOffline="",this.creatingOfflineTask=!1,this.parsing=!1,this.errMsg=""}},{key:"onLinkPasted",value:function(){var e=this;console.log("link pasted ",this.inputLink),setTimeout(function(){e.createOfflineTask(e.inputLink)},200)}},{key:"onContextMenu",value:function(e){e.preventDefault(),Object(v["b"])(w["w"])}},{key:"handleDragOver",value:function(e){e.preventDefault(),this.showDragHint=!0,e.dataTransfer.dropEffect="copy"}},{key:"handleDragLeave",value:function(e){e.preventDefault(),this.showDragHint=!1}},{key:"handleDrop",value:function(e){var t=this;if(e.preventDefault(),console.log("handle drop"),this.showDragHint=!1,console.log(e.dataTransfer.files[0].name),1===e.dataTransfer.files.length&&"torrent"===e.dataTransfer.files[0].name.split(".").slice(-1)[0]){this.$gaVisitor.event(k["r"],k["t"]),window.zhuge.track(m["r"]),Object(v["b"])(w["C"]),this.parsing=!0;var n=e.dataTransfer.files[0];console.log(n.path),console.log(n),g.a.remote(n,function(e,i){if(e)return Object(v["b"])(w["t"]),t.parsing=!1,console.error(e),void(t.errMsg="种子文件解析失败");if(console.log(i),i.infoHash){var a=g.a.toMagnetURI({infoHash:i.infoHash});console.log(a),Object(v["b"])(w["u"]),t.$gaVisitor.event(k["q"],k["t"]),window.zhuge.track(m["q"]),t.parsing=!1,t.createOfflineTask(a,i.name||n.name)}else Object(v["b"])(w["t"]),t.$gaVisitor.event(k["p"],k["t"]),window.zhuge.track(m["p"]),t.parsing=!1,console.error("no infoHash"),t.errMsg="种子文件解析失败"})}else this.errMsg="请拖入 .torrent 种子文件"}},{key:"createOfflineTask",value:function(e,t){var n=this;if(!this.creatingOfflineTask){if(console.log("creating offline task ",e,t),!y.test(e))return this.$gaVisitor.event(k["o"],k["t"],e),window.zhuge.track(m["o"],{magnetUri:e}),void(this.errMsg="请输入合法的磁力链接或种子文件");this.creatingOfflineTask=!0,this.inputLink=e;var i=function(){Object(v["b"])(w["A"]),n.$gaVisitor.event(k["l"],k["t"]),window.zhuge.track(m["l"]),Object(b["a"])({magnetUri:e,name:t}).then(function(e){return n.errMsg="",n.creatingOfflineTask=!1,Object(v["b"])(w["e"]),n.$gaVisitor.event(k["n"],k["t"]),window.zhuge.track(m["n"]),!0}).catch(function(e){console.error("create offline task failed"),console.error(e),n.creatingOfflineTask=!1,Object(v["b"])(w["d"],e),n.$gaVisitor.event(k["m"],k["t"],e.code),window.zhuge.track(m["m"],{errCode:e.code,errMsg:e.message}),e.code===p["l"]||e.code===p["m"]?n.errMsg="无可用服务器":e.code===p["j"]?n.errMsg="此磁力链接无法创建离线任务":n.errMsg="创建离线任务失败"})};Object(v["b"])(w["v"]),Object(v["a"])(w["c"],function(e){console.log("create offline confirmed"),!0===e?i():n.creatingOfflineTask=!1},{once:!0})}}}]),t}(u["a"]);C=d["a"]([Object(h["a"])({})],C);var x=C,T=x,O=(n("1c5e"),n("2877")),F=Object(O["a"])(T,i,a,!1,null,"80402800",null);t["a"]=F.exports},ebee:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAuCAYAAAB9CdqYAAAAAXNSR0IArs4c6QAAA01JREFUaAXtWktoE0EY/mY2m7SmL2KbpKatB60BBamHiqigl6JV8CIUROxFDz7w4qkerFAQW1FRbFWweCiKogcvWhBBfBw8VNRKpVRLa2trLVZbm6bNa3fc3ZiwRCXNY3fTkIFl5/HP9//f/83MJtkQSMV1o61CDIjnGLAdDOVyX6qFgPglvF5CcWXiaNOtVPGSnU8Ucn7Wy8BsyYLEm0cIrk8cO3kknp0W4zSsnHbk5KAZw+Hy9tYLWhCIh0mVZRnPKg3j0go54exoO5UGqIQgaLr23KK8MrFlxdXW44uyTZORSY1DTFJTvjQsjJDLrtvXyni7vVsLNxTC16G6htEINnG2n2V0WT5MjjKA15ZcxKnm95Dg4Qg7OFy//z4p77zI+EoXQDR3q7MDwogvsJtypdLTIevIyblkRCTopDTPonNm9XNHeJOTglL9POrtiZJsZhfOZhbLlyOo94bRxl9uiWqTV/1Qcwrql2ttPOUU1Cav+qHmFNQv19p4yimoTV71Q80pqF+utfGU9Qoa9jPaSF3DPyUbX/Di/ew0znzsxRefV7H5n60a4PnUNzS+faHuUuoZp6Ar34p6RwUebaqD3Zz3V8CJdhimYCTQloF3eDAxojSLeB61JaU4v24jinkzdtor0DU2iM0vH0bMscdZhabq9Up7b89TTPjmlbpPEKI26orhBL1CED+DfiUm+f55fg7Na2pQJBG0cOEFNv6HhGw0EwxE45/0LUA9Fh1QVQwnWG0twlabQwmpQHptsG25UyEXEkU8k/ZVqsVwgodWuiFfsaWp/zU+eWdjuxNuG05wYO5XdB9ZKAd3QTFsZgtOuzdgTDpRX01/T5iUeoLhBG+OfsTd8eFoTHkSyW7pBF0lLd0DlatTJphxjwmfKCgHjcx4bUFJlHiyFcMVtHI8bHz4/Ug+xymPiS02u8JnMBv2YLO7BvIVW+aFEC4NfYjtTrhtuILqiAUmYirgx5uZH+gY7kefZ0Y9nFSdVD25J0p/g8jKN4QghFEWDAWTSs0SmCRzo/D7+5ZArMmFKHGjpoXQLhYIhj+xJgeTkbNkTjI3Ze85HndZzZ7QHZi5WlCuMCMjXmxQouBBQOgJFJr2Te5oDH+hXOzcpWj3G/JA81BXOpuxAAAAAElFTkSuQmCC"},f70e:function(e,t,n){}}]);
//# sourceMappingURL=chunk-common.20477c2e.js.map